"use strict";String.prototype.beginsWith=function(a){return 0===this.indexOf(a)},angular.module("wallpaperbrowserApp",["ngRoute","ui.bootstrap","ngAnimate","rzModule","angularSpectrumColorpicker","toastr","ngSanitize","ngTagsInput","pascalprecht.translate"]).config(["$routeProvider",function(a){a.when("/browsewallpapers",{templateUrl:"views/views/browsewallpapers.html",controller:"BrowseWallpapersCtrl",options:{caption:"ui_caption_browse"}}).when("/settings",{templateUrl:"views/views/settings.html",controller:"SettingsCtrl",options:{caption:"ui_caption_settings"}}).when("/editor",{templateUrl:"views/views/editor.html",controller:"EditorCtrl",options:{caption:"ui_caption_editor",helpEnabled:!0}}).when("/welcome",{templateUrl:"views/views/welcome.html",controller:"WelcomeCtrl",options:{caption:" ",isDialog:!0}}).when("/",{templateUrl:"views/views/empty.html",controller:"EmptyCtrl"}).otherwise({redirectTo:"/"})}]).config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|file|data):/)}]).config(["toastrConfig",function(a){angular.extend(a,{positionClass:"toast-bottom-right"})}]).config(["$translateProvider",function(a){a.preferredLanguage("en-us"),a.fallbackLanguage("en-us"),a.useLoader("localeLoader"),a.useSanitizeValueStrategy("sce")}]).filter("filename",function(){return function(a){return a?a.replace(/^.*[\\\/]/,""):a}}).factory("localeLoader",["$q","$http",function(a,b){return function(c){var d=a.defer();return b.get("applocale://"+c.key).then(function(a){"en-us"===c.key&&angular.extend(a.data,{"system_language_ar-sa":"اللغة العربية الفصحى","system_language_bg-bg":"български","system_language_cs-cz":"čeština","system_language_da-dk":"Dansk","system_language_de-de":"Deutsch","system_language_el-gr":"Eλληνικά","system_language_en-us":"English","system_language_es-es":"Español","system_language_fa-ir":"فارسى","system_language_fi-fi":"Suomi","system_language_fr-fr":"Français","system_language_hu-hu":"Magyar","system_language_it-it":"Italiano","system_language_ja-jp":"日本語","system_language_ko-kr":"한국어","system_language_nl-nl":"Nederlands","system_language_nn-no":"Norsk","system_language_pl-pl":"Polski","system_language_pt-br":"Português-Brasil","system_language_pt-pt":"Português","system_language_ro-ro":"Română","system_language_ru-ru":"Русский язык","system_language_sv-se":"Svenska","system_language_th-th":"ภาษาไทย","system_language_tr-tr":"Türkçe","system_language_uk-ua":"Українська","system_language_zh-chs":"简体中文","system_language_zh-cht":"繁體中文"}),d.resolve(a.data)}).catch(function(){d.resolve({})}),d.promise}}]).run(["$rootScope","$timeout","utils",function(a,b,c){window.rootScope=a,window.utilsService=c;var d;d=a.$on("$routeChangeSuccess",function(){b(function(){angular.isFunction(d)&&(window.global.jsInit(),d(),d=void 0)})})}]),window.safeApply=function(a){var b=a.$root.$$phase;"$apply"!==b&&"$digest"!==b&&a.$apply()},angular.module("wallpaperbrowserApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("wallpaperbrowserApp").directive("titlebar",["$rootScope","$route","skin",function(a,b,c){return{templateUrl:"views/templates/titlebar.html",restrict:"E",link:function(d){function e(a){angular.isObject(a)&&angular.isObject(a.options)&&(d.caption=a.options.caption,d.isDialog=a.options.isDialog,c.setHelpEnabled(a.options.helpEnabled))}d.isMaximized=c.isMaximized(),d.isHelpEnabled=c.isHelpEnabled(),d.isDialog=!1,d.maximizeEnabled=!0,d.$on("onMaximizedChanged",function(a,b){d.isMaximized=b,window.safeApply(d)}),d.$on("onMaximizeEnabledChanged",function(a,b){d.maximizeEnabled=b,window.safeApply(d)}),d.$on("onHelpEnabledChanged",function(a,b){d.isHelpEnabled=b,window.safeApply(d)}),d.$on("$routeChangeSuccess",function(a,b){e(b)}),d.toggleHelp=function(){a.$broadcast("onHelpToggled")},e(b.current)}}}]),angular.module("wallpaperbrowserApp").service("skin",["$rootScope","$document","$timeout",function(a,b,c){var d=!1,e=!1;this.getSkin=function(){return"light"},this.isMaximized=function(){return d},this.isHelpEnabled=function(){return e},this.setMaximized=function(b){d=b,a.$broadcast("onMaximizedChanged",b)},this.setMaximizeEnabled=function(b){a.$broadcast("onMaximizeEnabledChanged",b)},this.setHelpEnabled=function(b){e=b,a.$broadcast("onHelpEnabledChanged",b)},this.flashWindow=function(){b[0].body.className=b[0].body.className.replace(" captionFlashAnim",""),c(function(){b[0].body.className+=" captionFlashAnim"}),c(function(){b[0].body.className=b[0].body.className.replace(" captionFlashAnim","")},1e3)},this.onOSModalChanged=function(b){a.osModalActive=b,a.$apply()},window.skinService=this}]),angular.module("wallpaperbrowserApp").controller("BrowseWallpapersCtrl",["$document","$translate","$parse","$timeout","$q","$scope","$location","utils","modals","host",function(a,b,c,d,e,f,g,h,i,j){function k(){B=!0,d(function(){B=!1})}function l(a){return z.indexOf(a)>=0}function m(){var a=[],b=f.wallpapers;if(f.filter.type.length>0&&(angular.forEach(b,function(b){b.type===f.filter.type&&a.push(b)}),b=a,a=[]),f.filter.source.length>0){switch(f.filter.source){case"local":angular.forEach(b,function(b){b.local&&!b.official&&a.push(b)});break;case"workshop":angular.forEach(b,function(b){b.local||a.push(b)});break;case"official":angular.forEach(b,function(b){b.official&&a.push(b)})}b=a,a=[]}var c=[];if(angular.forEach(f.filter.tags,function(a,b){a&&c.push(b)}),c.length>0&&(angular.forEach(b,function(b){angular.forEach(c,function(c){angular.isString(b.tags)&&b.tags.indexOf(c)>=0&&a.push(b)})}),b=a,a=[]),angular.isString(f.wallpaperSearchText)&&f.wallpaperSearchText.length>0){var d=f.wallpaperSearchText.toLowerCase().replace(/[\?\.\!]/g,"");angular.forEach(b,function(b){var c=b.title.toLowerCase().replace(/[\?\.\!]/g,"");(c.includes(d)||h.damerauLevenshteinDistance(c,d)<3)&&a.push(b)})}else a=b;f.sortDesc?a.sort(H[f.selectedSort]):a.sort(G[f.selectedSort]),f.sortedWallpapers=a}function n(a,b){for(var c=0;c<E.length;++c)if(E[c].file===a)return E[c];var d=a,e="Local",g="images/preview_local.jpg";h.isURL(a)?(e="URL",g="images/preview_url.jpg"):d=h.getFilename(a);var i={file:a,title:d,preview:g,local:!0,localAndExternal:!0,status:"installed",type:e,filesize:0,subscriptiondate:0,favorite:!1,rating:0};return angular.isDefined(b)&&(i.overridetype=b),E.push(i),f.wallpapers.push(i),m(),i}function o(a){var c=3;return b(["ui_browse_modal_application_warning_body","ui_browse_modal_application_warning_timer"],{filepath:a,time:c}).then(function(a){var e={title:"ui_browse_modal_application_warning_header",message:a.ui_browse_modal_application_warning_body+a.ui_browse_modal_application_warning_timer,leftIcon:"images/warning.png",okClass:"btn-danger",okText:"ui_browse_modal_proceed",okVisible:!0,okDisabled:!0,cancelVisible:!0},f=function(){c-=1,b("ui_browse_modal_application_warning_timer",{time:c}).then(function(b){e.message=a.ui_browse_modal_application_warning_body+b,c>0?d(f,1e3):e.okDisabled=!1})};return d(f,1e3),i.open("genericConfirm",{data:e},{backdropClass:"modal-backdrop-danger"})})}function p(a){if(a.local)return n(a.file);var b;return angular.forEach(f.wallpapers,function(c){c.file===a.file&&(b=c)}),b}function q(){d(function(){if(angular.isObject(f.wallpaperConfig)&&angular.isObject(f.selectedMonitor)&&angular.isArray(f.wallpaperConfig.selectedwallpapers)){if(!angular.isObject(f.currentSelection)&&f.wallpaperConfig.selectedwallpapers.length>f.selectedMonitor.index){var a=f.wallpaperConfig.selectedwallpapers[f.selectedMonitor.index];f.currentSelection=p(a)}if(angular.isObject(f.currentSelection)){window.safeApply(f);var b=0;angular.forEach(f.sortedWallpapers,function(a){if(a.file===f.currentSelection.file){var c=angular.element("#BrowseWallpaperGrid"),d=angular.element("#wpimg"+b),e=c.scrollTop()+d.position().top,g=d.height(),h=c.height(),i=e-h+g;i>0&&c.scrollTop(i-c.position().top)}++b})}}})}function r(a){f.selectedMonitor=a,q()}function s(){if(!D&&angular.isArray(f.monitors)&&angular.isObject(f.wallpaperConfig)&&angular.isArray(f.wallpaperConfig.selectedwallpapers)){var a=!0;angular.forEach(f.wallpaperConfig.selectedwallpapers,function(b){var c=p(b);if(a=angular.isDefined(c),angular.isObject(c)){var d=b.monitor;d<f.monitors.length&&(f.monitors[d].wallpaper=c)}}),D=a}}function t(a){f.currentSelection=a,f.wallpaperConfig.selectedwallpapers[f.selectedMonitor.index]={file:a.file,monitor:f.selectedMonitor.index},f.selectedMonitor.wallpaper=a,j.callDeferred("browseWallpaperObject","selectWallpaper",f.currentSelection.file,f.selectedMonitor.index,a.overridetype)}function u(a){f.currentSelection=void 0,f.wallpaperConfig.selectedwallpapers[f.selectedMonitor.index]={monitor:f.selectedMonitor.index},f.selectedMonitor.wallpaper=void 0,j.callDeferred("browseWallpaperObject","removeWallpaper",a)}function v(a){angular.forEach(a,function(a){"color"===a.type&&(a.value=h.convertVec3ToHex(a.value))})}function w(a){"color"===a.type&&(a.value=h.convertHexToVec3(a.value))}function x(a){angular.isObject(C)&&angular.forEach(a,function(a){var b=C[a.file];angular.isObject(b)&&(a.properties=b.properties,a.defaultproperties=b.defaultproperties)})}var y,z=["76561197975619619","76561198008830389"],A={},B=!1,C={},D=!1,E=[],F=angular.element("#BrowseFocusHack"),G={name:function(a,b){return angular.isString(a.title)&&angular.isString(b.title)?a.title.localeCompare(b.title):0},rating:function(a,b){return a.rating===b.rating?G.name(a,b):b.rating-a.rating},subscriptiondate:function(a,b){return a.subscriptiondate===b.subscriptiondate&&0===a.subscriptiondate?G.name(a,b):a.subscriptiondate>b.subscriptiondate?-1:1},updatedate:function(a,b){return a.updatedate===b.updatedate&&0===a.updatedate?G.name(a,b):a.updatedate>b.updatedate?-1:1},favorite:function(a,b){return a.favorite!==b.favorite?a.favorite?-1:1:G.name(a,b)},filesize:function(a,b){return a.filesize===b.filesize&&0===a.filesize?G.name(a,b):a.filesize>b.filesize?-1:1}},H={name:function(a,b){return angular.isString(a.title)&&angular.isString(b.title)?b.title.localeCompare(a.title):0},rating:function(a,b){return a.rating===b.rating?H.name(a,b):a.rating-b.rating},subscriptiondate:function(a,b){return a.subscriptiondate===b.subscriptiondate&&0===a.subscriptiondate?H.name(a,b):b.subscriptiondate>a.subscriptiondate?-1:1},updatedate:function(a,b){return a.updatedate===b.updatedate&&0===a.updatedate?H.name(a,b):b.updatedate>a.updatedate?-1:1},favorite:function(a,b){return a.favorite!==b.favorite?b.favorite?-1:1:H.name(a,b)},filesize:function(a,b){return a.filesize===b.filesize&&0===a.filesize?H.name(a,b):b.filesize>a.filesize?-1:1}};f.updateWallpapers=function(a,b){for(var c=[],d=!1,e=0;e<a.length;++e){var g=a[e],h=!1,i="unsubscribed"===g.status;if(angular.isDefined(g.workshopid))for(var j=0;j<f.wallpapers.length;++j){var k=f.wallpapers[j];if(angular.isDefined(k.workshopid)&&k.workshopid===g.workshopid)if(h=!0,i)f.currentSelection===k&&(f.currentSelection=void 0),f.wallpapers.splice(j,1),--j,d=!0;else{var l=!1;f.currentSelection===k&&k.status!==g.status&&"installed"===g.status&&(f.currentSelection=void 0,l=!0,f.callbackWallpaperSelected(g)),angular.merge(k,g),l&&f.callbackWallpaperSelected(k)}}h||i||c.push(g)}x(c),f.wallpapers.push.apply(f.wallpapers,c),(c.length>0||d)&&m(),s(),(angular.isUndefined(b)||angular.isUndefined(f.currentSelection))&&q()},f.registerSteamUser=function(a){var b=f.steamUserInfos[a.id]||{};b.name=a.name,b.avatar=a.avatar,f.steamUserInfos[a.id]=b},f.callbackWallpaperSelected=function(a){if(f.currentSelection!==a){var b;b="application"!==a.type.toLowerCase()||!angular.isDefined(a.workshopid)||l(a.authorsteamid)||a.local?e.when():o(a.file),b.then(function(){f.currentSelection=a,"installed"===a.status&&t(a)}),F[0].focus()}},f.callbackRemoveWallpaper=function(a){u(a.index)},f.applyMonitorConfiguration=function(a){var b={x0:0,y0:0,x1:0,y1:0},c={width:436,height:178};angular.forEach(a,function(a){b.x0=Math.min(b.x0,a.x0),b.y0=Math.min(b.y0,a.y0),b.x1=Math.max(b.x1,a.x1),b.y1=Math.max(b.y1,a.y1)});var d=b.x1-b.x0,e=b.y1-b.y0,g=c.width/d,h=c.height/e,i=Math.min(g,h),j=.5*(c.width-d*i),k=.5*(c.height-e*i),l=[];angular.forEach(a,function(a){var c={};c.x=j+(a.x0-b.x0)*i,c.y=k+(a.y0-b.y0)*i,c.w=(a.x1-a.x0)*i,c.h=(a.y1-a.y0)*i,c.index=a.index,0===a.index&&(c.selected=!0),l.push(c)}),l.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),f.monitors=l,f.showMonitorRow=l.length>1,l.length>0&&r(l[0]),s(),f.showMonitorRow&&(f.changeMonitorActive=!0),q()},f.setWallpaperConfig=function(a){angular.forEach(a.wallpaperproperties,function(a){v(a.properties),v(a.defaultproperties),C[a.file]=a}),x(f.wallpapers);var b=a.wallpaperconfig||{},c=[];angular.isArray(b.selectedwallpapers)&&angular.forEach(b.selectedwallpapers,function(a){c[a.monitor]=a}),b.selectedwallpapers=c,f.wallpaperConfig=b,s(),q();var e=[];angular.forEach(f.monitors,function(a){angular.isObject(a.wallpaper)&&e.push(a.wallpaper)}),e.length>0&&x(e),angular.isArray(a.localfiles)&&a.localfiles.map(function(a){n(a)}),d(function(){y=!0})},f.setWallpaperProperties=function(a){v(a.properties),v(a.defaultproperties);var b=function(b){angular.isObject(b)&&b.file===a.file&&(b.properties=a.properties,b.defaultproperties=a.defaultproperties)};angular.forEach(f.wallpapers,b),b(f.currentSelection),k()},f.updateWorkshopStatus=function(a){f.steamWorkshopStatus=a,a.complete&&d(function(){f.steamWorkshopStatus.hidden=!0},5e3)},f.openSteamUserPage=function(a){window.ui.shellexecute("steam://url/SteamIDPage/"+a)},f.openSteamWorkshopPage=function(a){window.ui.shellexecute("steam://url/CommunityFilePage/"+a)},f.subscribeWorkshopItem=function(a){j.callDeferred("browseWallpaperObject","subscribeWorkshopItem",a)},f.openFromFile=function(){j.callDeferred("browseWallpaperObject","openFromFile").then(function(a){return a.toLowerCase().includes(".exe")?o(a).then(function(){return a}):a}).then(function(a){t(n(a)),q()})},f.openFromUrl=function(){i.open("openFromUrl").then(function(a){angular.isString(a)&&a.length>0&&(t(n(a,"Web")),q())})},f.applyUserVote=function(a,b){angular.forEach(f.wallpapers,function(c){c.workshopid===a&&(c.uservote=b)}),window.safeApply(f)},f.getUserVote=function(a){j.callDeferred("browseWallpaperObject","getUserVote",a.workshopid)},f.setUserVote=function(a,b){j.callDeferred("browseWallpaperObject","setUserVote",a.workshopid,b)},f.callbackSetFavorited=function(a,b){j.callDeferred("browseWallpaperObject","setFavorited",a,b)},f.sendCommand=function(a,b){angular.isDefined(b)?j.callDeferred("browseWallpaperObject",a,b):j.callDeferred("browseWallpaperObject",a)},f.toggleMonitorSelection=function(){f.changeMonitorActive=!f.changeMonitorActive},f.callbackOk=function(){j.callDeferred("browseWallpaperObject","acceptAndClose")},f.callbackSelectMonitor=function(a){if(0===f.wallpaperConfig.layout){var b=f.wallpaperConfig.selectedwallpapers[a.index];f.currentSelection=angular.isObject(b)?p(b):void 0,r(a)}},f.callbackWallpaperPropertyChanged=function(a,b){if("slider"===b.type){if(A[a]===b.value)return;A[a]=b.value}if(!B){var c=angular.copy(b);w(c);var d={file:f.currentSelection.file,properties:{}};d.properties[a]=c,j.callDeferred("browseWallpaperObject","applySingleProperty",angular.toJson(d))}},f.callbackResetCurrentWallpaperProperties=function(){f.currentSelection.properties=angular.copy(f.currentSelection.defaultproperties),angular.forEach(f.currentSelection.properties,function(a,b){f.callbackWallpaperPropertyChanged(b,a)})},f.callbackShowSettings=function(){j.callDeferred("browseWallpaperObject","showSettingsDialog")},f.callbackUnsubscribe=function(a,c){b("ui_browse_modal_unsubscribe_body",{title:c}).then(function(a){return i.open("genericConfirm",{data:{title:"ui_browse_modal_unsubscribe_header",message:a,okVisible:!0,cancelVisible:!0}})}).then(function(){j.callDeferred("browseWallpaperObject","unsubscribe",a)})},f.callbackSelectFileForProperty=function(a,b){j.callDeferred("browseWallpaperObject","selectFileForProperty",b).then(function(b){a.value=b,f.callbackWallpaperPropertyChanged(a.key,a)})},f.callbackRemoveFileForProperty=function(a){delete a.value,f.callbackWallpaperPropertyChanged(a.key,a)},f.callbackOpenDirectory=function(a){angular.isString(a)&&j.callDeferred("browseWallpaperObject","openDirectory",a)},f.callbackRemoveLocalWallpaper=function(a,c){b("ui_browse_modal_remove_local_body",{title:a}).then(function(a){return i.open("genericConfirm",{data:{title:"ui_browse_modal_remove_local_header",message:a,okVisible:!0,cancelVisible:!0}})}).then(function(){var a;for(a=0;a<E.length;++a)E[a].file===c&&E.splice(a,1);for(a=0;a<f.wallpapers.length;++a)f.wallpapers[a].file===c&&f.wallpapers.splice(a,1);m(),f.callbackRemoveWallpaper(f.selectedMonitor),j.callDeferred("browseWallpaperObject","removeLocalWallpaperFromHistory",c)})},window.browseWallpapersCtrl=f,f.steamUserInfos={},f.wallpapers=[],f.colorPickerOptions=h.getColorPickerDefaults(),f.wallpaperSearchText="",f.sortOptions=[{value:"name",label:"ui_browse_sort_name"},{value:"rating",label:"ui_browse_sort_rating"},{value:"favorite",label:"ui_browse_sort_favorite"},{value:"filesize",label:"ui_browse_sort_filesize"},{value:"subscriptiondate",label:"ui_browse_sort_subscription_date"},{value:"updatedate",label:"ui_browse_sort_last_updated"}],f.selectedSort=f.sortOptions[0].value,f.sortDesc=!1,f.layouts=[{label:"ui_browse_monitors_layout_per_monitor",value:0},{label:"ui_browse_monitors_layout_fit",value:1}],f.filterOptions=[{value:"",label:"ui_browse_filter_type_any"},{value:"Scene",label:"ui_browse_filter_type_scene"},{value:"Video",label:"ui_browse_filter_type_video"},{value:"Web",label:"ui_browse_filter_type_web"},{value:"Application",label:"ui_browse_filter_type_application"}],f.filterSources=[{value:"",label:"ui_browse_filter_source_any"},{value:"official",label:"ui_browse_filter_source_official"},{value:"workshop",label:"ui_browse_filter_source_workshop"},{value:"local",label:"ui_browse_filter_source_my_wallpapers"}],f.filter={type:"",source:"",tags:{}},f.$watch("currentSelection",function(a){A={},k(),angular.isDefined(a)&&(angular.isString(a.authorsteamid)&&angular.isUndefined(f.steamUserInfos[a.authorsteamid])&&j.callDeferred("browseWallpaperObject","pollSteamUserInfo",a.authorsteamid),angular.isDefined(a.workshopid)&&f.getUserVote(a))}),f.$watch("wallpaperConfig.layout",function(a,b){angular.isNumber(a)&&y&&a!==b&&(1===a&&r(f.monitors[0]),j.callDeferred("browseWallpaperObject","changeLayout",a))}),f.$watch("selectedSort",function(){m()}),f.$watch("sortDesc",function(){m()});var I;f.$watch("wallpaperSearchText",function(){angular.isDefined(I)&&(d.cancel(I),I=void 0),I=d(m,100)}),f.$watch("filter",m,!0),f.$on("$destroy",function(){a.off("keydown.wpe.wallpaperbrowser")}),f.$on("onCppInit",function(){f.filterAllTags=h.getAvailableTags()}),a.on("keydown.wpe.wallpaperbrowser",function(a){if(a.keyCode>=37&&a.keyCode<=40){var b=f.sortedWallpapers.indexOf(f.currentSelection),c=angular.element("#BrowseWallpaperGrid"),d=angular.element("#wpimg0"),e=c.width(),g=d.width(),h=Math.floor(e/g);if(F.is(":focus")){switch(a.keyCode){case 37:b-=1;break;case 38:b-=h;break;case 39:b+=1;break;case 40:b+=h}angular.isNumber(b)&&b>=0&&b<f.sortedWallpapers.length&&!f.changeMonitorActive&&f.callbackWallpaperSelected(f.sortedWallpapers[b])}}})}]).filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a,b){a.key=b,d.push(a)}),d.sort(function(a,c){return(a[b]||0)>(c[b]||0)?1:-1}),c&&d.reverse(),d}}),angular.module("wallpaperbrowserApp").controller("SettingsCtrl",["$timeout","$translate","$document","$scope","modals","host","utils","toastr",function(a,b,c,d,e,f,g,h){function i(a){n=a}function j(a){window.settingsObject.applyGeneral(angular.toJson(a))}function k(){d.generalSettings.graphicsapi="dxgi",d.generalSettings.loglevel="error",d.generalSettings.videoloopmode="default",d.generalSettings.videoreadmode="fromdisk",d.generalSettings.logtofileenabled=!0}function l(a,b){var c=[{label:"ui_settings_playback_keep_running",value:"run"}];return a?(c.push({label:"ui_settings_playback_pause_per_monitor",value:"pause"}),c.push({label:"ui_settings_playback_pause_all",value:"pauseall"})):c.push({label:"ui_settings_playback_pause",value:"pause"}),b&&c.push({label:"ui_settings_playback_stop",value:"stop"}),c}var m,n=!1,o={38:"konamiUp",40:"konamiDown",37:"konamiLeft",39:"konamiRight",66:"konamiPunch",65:"konamiPunch",13:"konamiSpin"},p=[38,38,40,40,37,39,37,39,66,65,13],q=0;window.settingsCtrl=d;var r=g.getQualityPreset("low"),s=g.getQualityPreset("medium"),t=g.getQualityPreset("high");d.antiAliasingOptions=[{label:"ui_settings_antialiasing_none",value:"none"},{label:"MSAA x2",value:"x2"},{label:"MSAA x4",value:"x4"},{label:"MSAA x8",value:"x8"}],d.resolutionOptions=[{label:"ui_settings_resolution_half",value:"half"},{label:"ui_settings_resolution_full",value:"full"}],d.graphicsApiOptions=[{label:"OpenGL",value:"opengl"},{label:"DirectX 9",value:"directx"},{label:"DirectX 11",value:"dxgi"}],d.videoReadOptions=[{label:"ui_settings_read_from_memory",value:"frommemory"},{label:"ui_settings_read_from_disk",value:"fromdisk"}],d.videoLoopOptions=[{label:"ui_settings_loop_sync_topo",value:"synctopo"},{label:"ui_settings_loop_sync_clock",value:"syncclock"},{label:"ui_settings_loop_default",value:"default"}],d.logLevelOptions=[{label:"ui_settings_log_verbose",value:"verbose"},{label:"ui_settings_log_errors",value:"error"},{label:"ui_settings_log_none",value:"none"}],d.uiSkins=[{label:"ui_settings_skin_white",value:"white"},{label:"ui_settings_skin_dark",value:"dark"}],d.tabInfo={activeIndex:0},d.fpsSlider={hideLimitLabels:!0,floor:10,ceil:50,onStart:function(){i(!1)},onEnd:function(){i(!0),j(d.generalSettings)}},d.iconOpacitySlider={hideLimitLabels:!0,floor:5,ceil:100},d.audioSlider={hideLimitLabels:!0,floor:1,ceil:200,onStart:function(){i(!1)},onEnd:function(){i(!0),j(d.generalSettings)}},d.colorPickerOptions=g.getColorPickerDefaults(),d.refreshSlider=function(){a(function(){d.$broadcast("rzSliderForceRender")},50)},d.applyPreset=function(a){switch(a){case 0:angular.merge(d.generalSettings,r);break;case 1:angular.merge(d.generalSettings,s);break;case 2:angular.merge(d.generalSettings,t)}},d.callbackOk=function(){window.settingsObject.close(!0)},d.callbackCancel=function(){window.settingsObject.close(!1)},d.applySettings=function(b){var c=b.runtime.multimonitor;d.playbackOptionsFocus=l(!1,!1),d.playbackOptionsMaximized=l(c,!1),d.playbackOptionsFullscreen=l(c,!0),d.generalSettings=b.user,a(function(){n=!0}),d.runtime=b.runtime,d.fpsSlider.ceil=b.runtime.frequencymax,d.refreshSlider()},d.setBuildVersion=function(a){d.buildVersion=a},d.toggleAutoStartScheduler=function(a){f.callDeferred("settingsObject","toggleAutoStartHighPriority",a).then(function(b){b&&(d.generalSettings.autostartscheduler=a)})},d.showChangelog=function(){e.open("changelog")},d.resetAdvancedOptions=k,d.$watch("generalSettings",function(a){n&&j(a)},!0),d.generalSettings=angular.copy(r),angular.merge(d.generalSettings,{graphicsapi:"dxgi",playbackfocus:"run",playbackmaximized:"pause",playbackfullscreen:"pause",language:"en-us"}),d.$watch("generalSettings.uiskin",function(a){if(angular.isString(a)){var b=angular.element(c[0].body);b.removeClass("skinDark"),"dark"===a&&b.addClass("skinDark")}}),d.$watch("generalSettings.language",function(a,b){angular.isString(a)&&angular.isString(b)&&a!==b&&(g.setLanguage(a),f.callDeferred("settingsObject","languageChanged",a))}),c.on("keydown.wpe.konami",function(b){var e=b.keyCode;if(p[q]===e&&2===d.tabInfo.activeIndex){var f=angular.element(c[0].body),g=o[e];f.css({animation:""}),a(function(){var a="konamiSpin"===g?" 200ms":" 100ms";f.css({animation:g+a})}),++q,q===p.length&&(h.success("Skins unlocked",""),q=0,window.settingsObject.konamiUnlock(),d.generalSettings.konami=!0,d.generalSettings.uiskin="dark")}else q=0;angular.isDefined(m)&&(a.cancel(m),m=void 0),m=a(function(){q=0},1e3)}),d.$on("$destroy",function(){c.off("keydown.wpe.konami")}),d.$on("onCppInit",function(){d.availableLanguages=g.getAvailableLanguages()})}]),angular.module("wallpaperbrowserApp").directive("droplist",["$timeout",function(a){return{templateUrl:"views/templates/droplist.html",restrict:"E",scope:{dpOptions:"=",dpSelected:"=",dpDisabled:"=",dpChange:"&",dpEmptyText:"@"},link:function(b){var c;b.selectItem=function(c){b.dpSelected=c.value,b.selected=c,angular.isFunction(b.dpChange)&&a(function(){b.$eval(b.dpChange)})},angular.isUndefined(b.dpSelected)&&angular.isArray(b.dpOptions)&&b.selectItem(b.dpOptions[0]),b.$watch("dpSelected",function(a){if(angular.isDefined(a)){var d=!1;angular.forEach(b.dpOptions,function(c){c.value===a&&(b.selected=c,d=!0)}),d||(c=a)}}),b.$watch("dpOptions",function(a){angular.isDefined(c)&&angular.isDefined(a)&&angular.isUndefined(b.selected)&&(angular.forEach(a,function(a){a.value===c&&(b.selected=a)}),c=void 0)})}}}]),angular.module("wallpaperbrowserApp").directive("checkbox",["$timeout",function(a){return{templateUrl:"views/templates/checkbox.html",restrict:"E",scope:{cbChecked:"=",cbDisabled:"=",cbTitle:"=",cbChanged:"&"},link:function(b){b.toggle=function(){b.cbDisabled||(b.cbChecked=!b.cbChecked,angular.isFunction(b.cbChanged)&&a(b.cbChanged))}}}}]),angular.module("wallpaperbrowserApp").controller("EditorCtrl",["$q","$rootScope","$scope","$timeout","modals","host","help","utils",function(a,b,c,d,e,f,g,h){function i(){if(c.filemenu=angular.copy(c.filemenu),angular.forEach(c.filemenu,function(a){a.disabled=!1}),angular.isUndefined(c.project))for(var a=1;a<c.filemenu.length;++a)c.filemenu[a].disabled=!0}function j(a){angular.isUndefined(a)&&(a=!1),f.callEditor("setGridVisible",a)}function k(a){var b={};angular.forEach(a,function(a){if(angular.isArray(a.properties))for(var c=0;c<a.properties.length;++c){var d=a.properties[c];angular.isString(d.mergekey)&&(b[d.mergekey]?a.properties[c]=b[d.mergekey]:b[d.mergekey]=d)}})}function l(){F=!1,c.project=void 0,c.assetTreeViewMode=void 0,c.editorLayoutClass="editorLayoutSimple",i(),c.showTreeView(),c.cameraMode="fly",c.gizmoMode="none",c.selectedResource.item=null,h.onProjectNameChanged()}function m(a){f.callEditor("openProject",a).then(function(b){angular.isObject(b.data.general)||(b.data.general={}),angular.isObject(b.data.general.properties)||(b.data.general.properties={}),angular.isObject(b.data.general.properties.schemecolor)||(b.data.general.properties.schemecolor={value:"0 0 0"}),b.data.type=b.data.type.toLowerCase(),c.editorLayoutClass="scene"===b.data.type?"editorLayoutScene":"editorLayoutSimple",d(function(){window.dispatchEvent(new Event("resize"))},500),"scene"===b.data.type?(j(c.editorSettings.showgrid),k(b.assets),c.assetTreeViewMode="scene"):c.assetTreeViewMode=void 0,F=!1,o(b),p(a),q(b.data.workshopid),c.project=b,i(),c.showTreeView(),c.cameraMode="fly",c.gizmoMode="none",c.selectedResource.item=null,h.onProjectNameChanged(b.data.title),d(function(){F=!0,angular.isArray(b.data.templateoptions)&&!b.data.templatewizardshownonce&&(b.data.templatewizardshownonce=!0,D())})})}function n(a,b){angular.forEach(b,function(b){angular.isFunction(b.shouldHide)&&(b.hidden=b.shouldHide(a)),angular.isArray(b.children)&&n(a,b.children)})}function o(a){angular.forEach(c.filemenu,function(b){n(a,b.children)})}function p(a){if(angular.isObject(c.editorSettings)){if(angular.isArray(c.editorSettings.recentfiles)||(c.editorSettings.recentfiles=[]),angular.isString(a)){for(var b=0;b<c.editorSettings.recentfiles.length;++b)if(c.editorSettings.recentfiles[b]===a){c.editorSettings.recentfiles.splice(b,1);break}c.editorSettings.recentfiles.length>4&&(c.editorSettings.recentfiles.length=4),c.editorSettings.recentfiles.unshift(a)}var d=[];angular.forEach(c.editorSettings.recentfiles,function(a){d.push({label:a,fn:function(){m(a)}})});var e=c.filemenu[0].children[2];e.children=d,e.disabled=0===d.length}}function q(a){var b=c.filemenu[3].children[0];b.id!==a&&(b.id=a,b.disabled=!angular.isNumber(a)||0===a,b.fn=b.disabled?void 0:function(){window.ui.shellexecute("steam://url/CommunityFilePage/"+a)},i())}function r(a,b){angular.isNumber(b)||(b=c.project.assets.length);var d=angular.copy(c.project.assets);d.splice(b,0,a),k(d),c.project.assets=d}function s(a){e.open("editorWelcome",{editorScope:c,options:{smallDialog:a}}).then(function(a){angular.isString(a.file)&&m(a.file)})}function t(a){c.editorSettings.previewratio=a.value}function u(){f.callEditor("restartPreview")}function v(){e.open("editorOpenWallpaper").then(function(a){angular.isString(a)&&m(a)})}function w(){e.open("editorSteamPublish",{projectData:c.project.data})}function x(){f.callEditor("resetView")}function y(){c.editorSettings.showgrid&&c.editorSettings.showgrid===!0||(c.editorSettings.showgrid=!1),c.editorSettings.showgrid=!c.editorSettings.showgrid,j(c.editorSettings.showgrid)}function z(){f.callEditor("importModel").then(function(a){return e.open("editorImportModel",{objInfo:a})}).then(r)}function A(){f.callEditor("addLight").then(r)}function B(){e.open("editorProjectSettings",{project:c.project})}function C(){f.callEditor("openInExplorer")}function D(){e.open("editorTemplateWizard",{projectData:c.project.data})}function E(){f.callEditor("importImage").then(function(a){return e.open("editorImportModel",{objInfo:a})}).then(r)}var F=!0,G=!0;window.editorCtrl=c,c.filemenu=[{label:"ui_editor_filemenu_file",children:[{label:"ui_editor_filemenu_new",icon:"glyphicon glyphicon-file",fn:function(){s(!0)}},{label:"ui_editor_filemenu_open",icon:"glyphicon glyphicon-folder-open",fn:v},{label:"ui_editor_filemenu_open_recent",children:[]},{label:"ui_editor_filemenu_save",icon:"glyphicon glyphicon-save",fn:function(){var b=a.when();angular.isObject(c.project.data)&&(b=b.then(function(){return f.callEditor("saveProjectData",angular.toJson(c.project.data))})),angular.isObject(c.project.scenegeneraldata)&&(b=b.then(function(){return f.callEditor("saveSceneGeneralData",angular.toJson(c.project.scenegeneraldata))})),b.then(function(){return f.callEditor("forceSave")})}},{},{label:"ui_editor_filemenu_quit",icon:"fa fa-power-off",fn:function(){window.ui.close()}}]},{label:"ui_editor_filemenu_edit",children:[{label:"ui_editor_filemenu_change_video_file",icon:"glyphicon glyphicon-film",fn:function(){c.replaceFile(c.project.assets[0])},shouldHide:function(a){return"video"!==a.data.type}},{label:"ui_editor_filemenu_import_model",icon:"fa fa-cube",fn:z,shouldHide:function(a){return"scene"!==a.data.type||a.scene.is2d}},{label:"ui_editor_filemenu_add_light",icon:"fa fa-lightbulb-o",fn:A,shouldHide:function(a){return"scene"!==a.data.type||a.scene.is2d}},{label:"ui_editor_filemenu_import_image",icon:"fa fa-picture-o",fn:E,shouldHide:function(a){return"scene"!==a.data.type||!a.scene.is2d}},{label:"ui_editor_filemenu_change_project_settings",icon:"fa fa-cog",fn:B},{label:"ui_editor_filemenu_open_in_explorer",icon:"glyphicon glyphicon-new-window",fn:C},{shouldHide:function(a){return!angular.isArray(a.data.templateoptions)}},{label:"ui_editor_filemenu_template_wizard",icon:"fa fa-magic",fn:D,shouldHide:function(a){return!angular.isArray(a.data.templateoptions)}}]},{label:"ui_editor_filemenu_view",children:[{label:"ui_editor_filemenu_restart_preview",icon:"fa fa-refresh",fn:u,shouldHide:function(a){return"scene"===a.data.type}},{label:"ui_editor_filemenu_preview_aspect_ratio",children:[{label:"ui_editor_filemenu_aspect_ratio_free",value:"free",binding:"previewratio",fn:t},{label:"4 : 3",value:"4x3",binding:"previewratio",fn:t},{label:"16 : 10",value:"16x10",binding:"previewratio",fn:t},{label:"16 : 9",value:"16x9",binding:"previewratio",fn:t},{label:"21 : 9",value:"21x9",binding:"previewratio",fn:t}]},{label:"ui_editor_filemenu_reset_camera",icon:"fa fa-undo",fn:x,shouldHide:function(a){return"scene"!==a.data.type}},{label:"ui_editor_filemenu_show_grid",icon:"",value:!0,binding:"showgrid",fn:y,shouldHide:function(a){return"scene"!==a.data.type}}]},{label:"Steam",children:[{label:"ui_editor_filemenu_show_in_workshop",icon:"fa fa-steam",
disabled:!0},{label:"ui_editor_filemenu_prepare_for_publishing",icon:"glyphicon glyphicon-share-alt",fn:w}]}],c.setEditorSettings=function(a){c.editorSettings=a,c.$watch("editorSettings",function(a,b){a!==b&&f.callEditor("saveEditorSettings",angular.toJson(a))},!0),p(),i(),a.showonstartup&&s()},c.updateGeneralSettings=function(a){angular.merge(c.project.data.general,a)},c.updateAssetProperties=function(a){angular.forEach(c.project.assets,function(b){if(b.id===a.id)for(var c=0;c<b.properties.length;++c){var d=b.properties[c];if(d.key===a.properties.key){for(var e=0;e<d.children.length;++e){var f=d.children[e];f.key===a.properties.children[0].key&&(f.value=a.properties.children[0].value)}break}}})},c.replaceAssets=function(a){c.project.assets=a;var b=c.selectedResource.item?c.selectedResource.item.id:-1;c.selectedResource.item=null,angular.forEach(c.project.assets,function(a){a.id===b&&(c.selectedResource.item=a)})},c.updateAvailableAssets=function(a){c.project.availableassets=a},c.resetProject=l,c.replaceFile=function(a){f.callEditor("replaceFile",a.name).then(function(b){a.name=b,c.project.assets=angular.copy(c.project.assets)})},c.setGizmoMode=function(a){c.gizmoMode===a&&(a="none"),f.callEditor("setGizmoMode",a).then(function(){c.gizmoMode=a})},c.setCameraMode=function(a){f.callEditor("setCameraMode",a).then(function(){c.cameraMode=a})},c.onResourceRemove=function(b){var d=c.project.assets.indexOf(b);if(!(d<0)){c.project.assets.splice(d,1);var e=a.defer();return f.callEditor("removeFromScene",b.id).then(function(){c.selectedResource.item===b&&(c.selectedResource.item=null),e.resolve()}),e.promise}},c.onResourceDragged=function(a,b){f.callEditor("sendSceneOrderChange",a,b)},c.onResourceAddedToScene=function(a,b){f.callEditor("addAssetToScene",angular.toJson(a),b).then(function(a){r(a,b)})},c.sendAssetPropertyChange=function(a,b,c,d){if(G){var e={id:a.id,key:a.key,properties:[{key:b,children:[{key:c.key,value:c.value}]}]};angular.isDefined(d)&&(e.options=d),f.callEditor("sendAssetPropertyChange",angular.toJson(e))}},c.buildPropertySliderCallback=function(a,b,d,e){var f;return e&&(f={save:!1}),function(){c.sendAssetPropertyChange(a,b,d,f)}},c.showTreeView=function(){c.leftPane="treeView"},c.showCameraPaths=function(){c.leftPane="cameraPaths"},c.addCameraPath=function(){f.callEditor("addCameraPath").then(function(a){var b=angular.copy(c.project.camerapaths);b.push(a),c.project.camerapaths=b})},c.onCameraPathRemove=function(b){var d=c.project.camerapaths.indexOf(b);if(!(d<0)){c.project.camerapaths.splice(d,1);var e=a.defer();return f.callEditor("removeCameraPath",b.id).then(function(){c.selectedResource.item===b&&(c.selectedResource.item=null),e.resolve()}),e.promise}},c.$watch("project.data",function(a,b){F&&a!==b&&(f.callEditor("saveProjectData",angular.toJson(a)),q(a.workshopid))},!0),c.$watch("project.scenegeneraldata",function(a,b){F&&a!==b&&f.callEditor("saveSceneGeneralData",angular.toJson(a))},!0),c.$watch("selectedResource.item",function(a){angular.isObject(a)&&angular.isDefined(a.id)&&(f.callEditor("setSelectedRenderable",a.id,a.key),G=!1,d(function(){G=!0,c.$broadcast("rzSliderForceRender")}))}),c.editorSettings={previewratio:"free"},c.editorLayoutClass="editorLayoutSimple",c.selectedResource={item:void 0},c.propertyColorPickerSettings=h.getColorPickerDefaults(),c.propertyColorPickerSettings.preferredFormat="rgb",c.showTreeView(),g.registerMainContext(c),i()}]),angular.module("wallpaperbrowserApp").directive("filemenu",["$timeout","$translate",function(a,b){return{templateUrl:"views/templates/filemenu.html",restrict:"E",scope:{fmItems:"=",fmData:"="},link:function(c,d){function e(a){var b=angular.element(document.createElement("span"));return b.addClass(a),b}function f(a,c){var d=angular.element(document.createElement("div")),e=function(a){d.text(a)};return b(a).then(e).catch(e),angular.isDefined(c)&&d.addClass(c),d}function g(a){var b=angular.element(document.createElement("button"));if(b.addClass("btn"),angular.isDefined(a.icon)&&b.append(e(a.icon+" pull-left itemIcon")),b.append(f(a.label,"item")),b.click(function(d){return b.hasClass("disabled")?(d.stopPropagation(),void d.currentTarget.blur()):void(angular.isFunction(a.fn)&&(a.fn(a),c.$apply()))}),a.disabled&&b.addClass("disabled"),a.binding){var d=e("glyphicon glyphicon-ok pull-left");d.css({visibility:"visible","margin-right":10}),b.prepend(d),b.on("filemenu.resfresh",function(){var b=a.value===c.fmData[a.binding];d.css({visibility:b?"visible":"hidden"})})}return b}function h(a){var b=angular.element(document.createElement("ul"));return b.addClass("dropdown-menu to-right nested"),angular.forEach(a,function(a){var c=angular.element(document.createElement("li")),d=g(a);c.append(d),b.append(c)}),b}function i(a,b){var c=angular.element(document.createElement("div"));return c.addClass("btn filemenuNestedIndicatorElement"),c.append(f(b.label,"item")),c.append(e("glyphicon glyphicon-triangle-right")),c.click(function(a){a.stopPropagation()}),a.append(c),b.disabled?c.addClass("disabled"):(a.append(h(b.children)),a.mouseover(function(){a.addClass("open")}),a.mouseout(function(){a.removeClass("open")})),c}function j(a){var b=angular.element(document.createElement("ul"));return b.addClass("dropdown-menu"),angular.forEach(a,function(a){if(!a.hidden){var c=angular.element(document.createElement("li"));angular.isString(a.label)?angular.isArray(a.children)?i(c,a):c.append(g(a)):c.addClass("separator"),b.append(c)}}),b}var k,l=0;c.onMouseOver=function(a){l>0&&k!==a.target&&(a=angular.element(a.target),a.dropdown("toggle"))},c.$watch("fmItems",function(b){k=void 0,a(function(){var a=d.find(".btn-group"),c=0;angular.forEach(a,function(a){a=angular.element(a),a.off("show.bs.dropdown"),a.off("hide.bs.dropdown"),a.on("show.bs.dropdown",function(){++l,k=a.children(".dropdown-toggle")[0],a.find("button").trigger("filemenu.resfresh")}),a.on("hide.bs.dropdown",function(){--l});var d=b[c++].children;a.children("ul").remove(),a.append(j(d))})})})}}}]);var _preventModalClose=!1;angular.element(document).on("keydown",function(a){27===a.which&&_preventModalClose&&(a.stopPropagation(),a.preventDefault())}),angular.module("wallpaperbrowserApp").service("modals",["$rootScope","$timeout","$uibModal","help",function(a,b,c,d){this.open=function(e,f,g){function h(){a.$broadcast("previewtoggle",1)}function i(){_preventModalClose=!1,d.popModal(),b(function(){a.$broadcast("previewtoggle",-1)},350)}var j={animation:!0,backdrop:"static",backdropClass:g&&g.backdropClass,resolve:f};switch(e){case"editorWelcome":j.templateUrl="views/modals/editorwelcomemodal.html",j.controller="EditorWelcomeModalCtrl";break;case"editorOpenWallpaper":j.templateUrl="views/modals/editoropenwallpapermodal.html",j.controller="EditorOpenWallpaperModalCtrl",j.windowClass="modal-dialog-full";break;case"editorSteamPublish":j.templateUrl="views/modals/editorsteampublishmodal.html",j.controller="EditorSteamPublishModalCtrl",j.size="lg";break;case"editorImportModel":j.templateUrl="views/modals/editorimportmodelmodal.html",j.controller="EditorImportModelModalCtrl",j.windowClass="modal-dialog-allow-overflow";break;case"editorProjectSettings":j.templateUrl="views/modals/editorprojectsettingsmodal.html",j.controller="EditorProjectSettingsModalCtrl";break;case"editorTemplateWizard":j.templateUrl="views/modals/editortemplatewizardmodal.html",j.controller="EditorTemplateWizardModalCtrl";break;case"openFromUrl":j.templateUrl="views/modals/openfromurlmodal.html",j.controller="OpenFromUrlModalCtrl";break;case"changelog":j.templateUrl="views/modals/settingschangelogmodal.html",j.controller="SettingsChangelogModalCtrl",j.size="lg";break;case"genericConfirm":j.templateUrl="views/modals/genericconfirmmodal.html",j.controller="GenericConfirmModalCtrl"}var k=c.open(j);return d.pushModal(e),k.opened.then(h),k.result.then(i).catch(i),k.result},this.setPreventModalClose=function(a){_preventModalClose=a}}]),angular.module("wallpaperbrowserApp").controller("EditorWelcomeModalCtrl",["$uibModalInstance","$rootScope","$scope","modals","host","editorScope","help","options",function(a,b,c,d,e,f,g,h){function i(a){return e.callEditor("getTemplates",a)}function j(a){c.templates=[],i(a).then(function(a){c.templates=a})}c.ok=function(){e.callEditor("createNewProject",angular.toJson(c.project)).then(function(b){a.close(b)})},c.cancel=function(){a.dismiss("cancel")},c.openPage=function(a,b){switch(c.project={},a){case"scene":c.newTitle="ui_editor_welcome_modal_new_scene_wallpaper";break;case"scene2d":c.newTitle="ui_editor_welcome_modal_new_scene2d_wallpaper",j(a);break;case"scene3d":c.newTitle="ui_editor_welcome_modal_new_scene3d_wallpaper",j(a);break;case"video":c.newTitle="ui_editor_welcome_modal_new_video_wallpaper";break;case"web":c.newTitle="ui_editor_welcome_modal_new_web_wallpaper";break;case"application":c.newTitle="ui_editor_welcome_modal_new_application_wallpaper"}c.project.type=a,c.page=a,c.pageIcon=b,c.project.template=""},c.importFile=function(){e.callEditor("importFile",c.page).then(function(a){c.project.file=a})},c.openRecent=function(b){a.close(b)},c.showHelp=function(){b.$broadcast("onHelpToggled",{showonly:!0})},c.$watch("project.template",function(a){c.currentPreview=void 0,angular.isString(a)&&angular.forEach(c.templates,function(b){b.value===a&&angular.isString(b.preview)&&(c.currentPreview="file://"+b.preview)})}),c.project={},c.editorScope=f,c.smallDialog=0,c.title=h.smallDialog?"ui_editor_welcome_modal_title_new":"ui_editor_welcome_modal_title_welcome",c.recentFileDetails=[],angular.isArray(f.editorSettings.recentfiles)&&e.callEditor("getWallpaperDetails",f.editorSettings.recentfiles).then(function(a){c.recentFileDetails=a}),g.registerModalPageVar(c,"page")}]),angular.module("wallpaperbrowserApp").service("host",["$q","utils",function(a,b){this.callDeferred=function(c,d){for(var e=a.defer(),f=[],g=2;g<arguments.length&&!angular.isUndefined(arguments[g]);++g)f.push(arguments[g]);var h=d+"Callback",i=d+"CallbackError",j=function(){window[h]=void 0,window[i]=void 0};return window[h]=function(){j(),e.resolve.apply(null,arguments)},window[i]=function(){j(),b.showError(arguments[0]),e.reject.apply(null,arguments)},window[c][d].apply(window[c],f),e.promise},this.callEditor=function(a){for(var b=["editorObject",a],c=1;c<arguments.length;++c)b.push(arguments[c]);return this.callDeferred.apply(null,b)}}]),angular.module("wallpaperbrowserApp").directive("treeView",["dragdrop",function(a){return{restrict:"E",scope:{tvData:"=",tvMode:"=",tvSelectedItem:"=",tvDragDropEnabled:"=",tvRemoveClicked:"&",tvElementDragged:"&",tvNewElementAdded:"&"},link:function(b,c){function d(){return"scene"===b.tvMode}function e(a,b){b?(angular.isDefined(r)&&r!==a&&e(r,!1),r=a,a.addClass("active")):a.removeClass("active")}function f(a){angular.forEach(u,function(b){b[0].item===a&&(r=b,e(b,!0))})}function g(c){var f=angular.element(document.createElement("a")),g=angular.element(document.createElement("span")),h=c.name;if(w||(h=" "+h),g.text(h),f.append(g),f.attr("id","someid"),f.addClass("btn"),w&&f.addClass("treeViewDirectoryListingItem"),angular.isArray(c.properties)&&c.properties.length>0){for(var i=-1,j=0;j<c.properties[0].children.length;++j){var k=c.properties[0].children[j];"name"===k.key&&(i=j)}if(i>=0){var l=b.$watch(function(){return c&&c.properties&&c.properties[0].children&&c.properties[0].children[i].value},function(a){angular.isString(a)&&a.length>0?g.text(" "+c.name+" ("+a+")"):g.text(" "+c.name)});f.unregisterNameWatcher=l}}var m=angular.element(document.createElement("span"));if(angular.isString(c.icon)?m.addClass(c.icon):m.addClass("glyphicon glyphicon-file"),f.prepend(m),f.addClass("editorTreeViewSceneGraphBtn"),d()){var n=angular.element(document.createElement("a"));n.addClass("editorTreeViewRemoveButton");var o=angular.element(document.createElement("span"));o.addClass("glyphicon glyphicon-remove"),n.append(o),f.append(n),n.on("mousedown",function(a){a.stopPropagation(),b.$apply(function(){b.tvRemoveClicked({item:c}).then(function(){f.remove(),angular.isFunction(f.unregisterNameWatcher)&&f.unregisterNameWatcher()})})})}var p,q=!1;f[0].item=c,f.on("mousedown",function(a){p={x:a.offsetX,y:a.offsetY},q=!0}),f.on("mouseup",function(){if(q&&(q=!1,d())){if(angular.isDefined(r)&&r.item===c)return;angular.isDefined(c)&&(e(f,!0),b.tvSelectedItem.item=c,b.$apply())}});var s=function(){q=!1,a.finish();var b=f.css("opacity");f.css({opacity:.35});var d={onCancelled:function(){f.css({opacity:b})},onDragged:function(){w?f.css({opacity:b}):f.remove()}};a.start(f,c,d)};return f.on("mouseleave",function(){q&&b.tvDragDropEnabled&&s()}),f.on("mousemove",function(a){if(q&&b.tvDragDropEnabled){var c=Math.abs(a.offsetX-p.x)+Math.abs(a.offsetY-p.y);c>5&&s()}}),u.push(f),f}function h(){var a=angular.element(document.createElement("div"));return a}function i(a,b){var c=angular.element(document.createElement("a")),d=angular.element(document.createElement("span"));return c.text(a),c.attr("id","someid"),c.addClass("btn btn-default"),c.click(function(){b.toggleClass(t),d.toggleClass("glyphicon-folder-close"),d.toggleClass("glyphicon-folder-open")}),b.addClass("treeViewDirectory "+t),d.addClass("treeViewFolderIcon glyphicon glyphicon-folder-close"),c.prepend(d),c}function j(a,b){angular.forEach(b,function(b){var c;if(angular.isArray(b.children)){var d=h();c=i(" "+b.name,d),a.append(c),a.append(d),j(d,b.children)}else c=g(b),a.append(c)})}function k(a){angular.forEach(u,function(a){angular.isFunction(a.unregisterNameWatcher)&&a.unregisterNameWatcher()}),u=[],c.empty(),r=void 0,j(c,a),b.tvSelectedItem&&b.tvSelectedItem.item&&f(b.tvSelectedItem.item)}function l(){s&&(s.remove(),s=void 0)}function m(a,b){var d=c.children(),e=d.outerHeight(),f=a.pageY-c[0].getBoundingClientRect().top,g=Math.round(f/e);return g=Math.min(g,d.length),b&&(g*=e),g}function n(a){if(s){var b=m(a,!0);s.css({top:b})}}function o(){s=angular.element(document.createElement("div")),s.addClass("treeViewHoverIndicator"),v.append(s)}function p(a){for(var c=0;c<b.tvData.length;++c)if(b.tvData[c]===a)return c;return-1}function q(){a.registerContainer(v,{onMouseEnter:function(){b.tvDragDropEnabled&&!w&&o()},onMouseLeave:function(){l()},onMouseMove:function(a){b.tvDragDropEnabled&&n(a)},onElementDropped:function(a,d){if(!b.tvDragDropEnabled||w)return!1;var e=p(d),f=m(a);if(e>=0){var g=c.children(),h=b.tvData[e];b.tvData.splice(e,1),f>e&&--f,b.tvData.splice(f,0,h);for(var i=b.tvData.length-1;i>=0;--i){for(var j,k=0;k<g.length;++k)g[k].item===b.tvData[i]&&(j=g[k]);j&&c.prepend(j)}return angular.isFunction(b.tvElementDragged)&&b.tvElementDragged({from:e,to:f}),!1}return!!angular.isFunction(b.tvNewElementAdded)&&(b.tvNewElementAdded({item:d,index:f}),!0)}})}var r,s,t="treeViewDirectoryInvisible",u=[],v=c.parent(),w="directory"===b.tvMode;b.$on("$destroy",function(){a.unregisterContainer(v)}),b.$on("renderableNameChanged",k),k(b.tvData),b.$watch("tvData",k),b.$watch("tvSelectedItem.item",function(a,b){a!==b&&(angular.isDefined(r)&&r.item===a||f(a))}),q()}}}]),angular.module("wallpaperbrowserApp").directive("preview",["$timeout","host",function(a,b){return{templateUrl:"views/templates/preview.html",restrict:"E",scope:{pAspectRatio:"="},link:function(c,d){function e(a){var b=a.aspect,d=b.toLowerCase().split("x");if(2!==d.length)return void(c.previewPadding="");var e=Number(d[0])/Number(d[1]);if(e<=0)return void(c.previewPadding="");var f=a.width,g=a.height,h=0,i=0;if(g>0&&f>0){var j=f/g;if(j<e){var k=f/e;i=(g-k)/2}else if(j>e){var l=g*e;h=(f-l)/2}}c.previewPadding=""+Math.floor(i)+"px "+Math.floor(h)+"px"}function f(){var c=i.offset();angular.isObject(l)&&a.cancel(l),l=a(function(){b.callEditor("previewSizeChanged",c.left,c.top,i.width(),i.height())},50)}function g(a){b.callEditor("previewToggleVisibility",a)}var h=angular.element(d.children()[0]),i=angular.element(h.children()[0]),j=0,k={};window.previewCtrl=c;var l;angular.element(window).on("resize.doResize",function(){c.$apply()}),angular.element(".dropdown").on("show.bs.dropdown",function(){g(!1)}),angular.element(".dropdown").on("hidden.bs.dropdown",function(){g(!0)}),c.setWindowHandle=function(a){var b=d.find("#previewPlugin")[0];b.postMessage("setWindowHandle "+a)},c.$on("previewtoggle",function(a,b){var c=0===j;j+=b,0===j?g(!0):1===j&&c&&g(!1)}),c.$on("$destroy",function(){angular.element(window).off("resize.doResize"),window.previewCtrl=void 0}),c.$watch(function(){return{width:i.width(),height:i.height()}},f,!0),c.$watch(function(){return{width:h.outerWidth(),height:h.outerHeight(),aspect:c.pAspectRatio}},e,!0),c.$on("onCppInit",f),c.mouseEnter=function(){k={},b.callEditor("sceneMouseMove",angular.toJson({mode:"enter"}))},c.mouseLeave=function(){b.callEditor("sceneMouseMove",angular.toJson({mode:"leave"}))},c.mouseMove=function(a){k.x===a.offsetX&&k.y===a.offsetY||(k={x:a.offsetX,y:a.offsetY},b.callEditor("sceneMouseMove",angular.toJson({mode:"move",x:a.offsetX,y:a.offsetY})))},c.mouseDown=function(a){1!==a.which&&3!==a.which||b.callEditor("sceneMouseMove",angular.toJson({mode:"down",x:a.offsetX,y:a.offsetY,key:a.which}))},c.mouseUp=function(a){1!==a.which&&3!==a.which||b.callEditor("sceneMouseMove",angular.toJson({mode:"up",x:a.offsetX,y:a.offsetY,key:a.which}))},c.mouseWheel=function(a){b.callEditor("sceneMouseWheel",a)},c.keyDown=function(a){b.callEditor("sceneKey",angular.toJson({mode:"down",key:a.keyCode}))},c.keyUp=function(a){b.callEditor("sceneKey",angular.toJson({mode:"up",key:a.keyCode}))},c.previewPadding="60px 0px"}}}]),angular.module("wallpaperbrowserApp").directive("previewToggle",["$rootScope",function(a){return{restrict:"A",link:function(b,c){var d=!1;c.on("shown.bs.dropdown.evt",function(){a.$broadcast("previewtoggle",1),d=!0}),c.on("hidden.bs.dropdown.evt",function(){a.$broadcast("previewtoggle",-1),d=!1}),b.$on("$destroy",function(){c.off("shown.bs.dropdown.evt"),c.off("hidden.bs.dropdown.evt"),d&&a.$broadcast("previewtoggle",-1)})}}}]),angular.module("wallpaperbrowserApp").controller("EditorOpenWallpaperModalCtrl",["$uibModalInstance","$scope","modals","host",function(a,b,c,d){function e(){d.callEditor("getProjects").then(function(a){b.wallpapers=a})}b.ok=function(){a.close(b.currentSelection.project)},b.cancel=function(){a.dismiss("cancel")},b.selectItem=function(a){b.currentSelection=a},b.deleteProject=function(a){if(angular.isString(a.project))return c.open("genericConfirm",{data:{title:"Confirm Deletion",message:"Are you sure that you want to delete the project: <br/><b>"+a.title+"</b> ?",leftIcon:"images/warning.png",cancelVisible:!0,okVisible:!0}},{backdropClass:"modal-backdrop-danger"}).then(function(){b.currentSelection=void 0,d.callEditor("deleteProject",a.project).then(e)})},e()}]),angular.module("wallpaperbrowserApp").controller("EditorSteamPublishModalCtrl",["$uibModalInstance","$scope","modals","host","projectData",function(a,b,c,d,e){window.editorSteamPublishModalCtrl=b,b.close=function(){a.dismiss("cancel")},b.startPublish=function(){b.page="publish",b.publishPage="progress",b.publishPreventCancel=!1,b.publishProgressMessage="",b.publishProgressValue=0,b.publishProgressError=void 0,d.callEditor("publishToSteam").then(function(a){b.needsToAcceptAgreement=a.needsToAcceptAgreement,b.itemId=a.id,b.publishPage="success"}).catch(function(){b.page="initial"})},b.cancelPublish=function(){d.callEditor("cancelPublishToSteam").then(function(a){a&&(b.page="initial",b.publishProgressValue=0)})},b.openItemInWorkshop=function(){window.ui.shellexecute("steam://url/CommunityFilePage/"+b.itemId)},b.setPublishProgress=function(a,d,e){b.publishProgressMessage=a,b.publishProgressValue=Math.floor(d),b.publishPreventCancel=e,c.setPreventModalClose(e)},b.setWorkshopId=function(a){b.projectData.workshopid=a},b.onPublishError=function(a){b.publishPage="error",b.publishPreventCancel=!1,b.publishProgressError=a,b.publishProgressValue=0,c.setPreventModalClose(!1)},b.$on("$destroy",function(){window.editorSteamPublishModalCtrl=void 0}),b.projectData=e,b.publishProgressValue=0,b.publishPage="progress"}]),angular.module("wallpaperbrowserApp").directive("workshopDetails",["host","utils","toastr",function(a,b,c){return{templateUrl:"views/templates/workshopdetails.html",restrict:"E",scope:{wdProjectData:"="},link:function(d){function e(a){angular.isString(a)&&(d.wdProjectData.preview=a)}d.visibilityOptions=[{label:"Public",value:"public"},{label:"Friends only",value:"friends"},{label:"Private",value:"private"}],d.takeSnapshot=function(){a.callEditor("takeSnapshot").then(e)},d.importSnapshot=function(){a.callEditor("importSnapshot").then(e)},d.getTags=function(a){var c=[];return a=a.toLowerCase(),angular.forEach(b.getAvailableTags(),function(b){b.toLowerCase().indexOf(a)>-1&&c.push({text:b})}),c},d.canAddTag=function(){var a=!angular.isArray(d.tags)||d.tags.length<3;return a||c.error("Only 3 tags allowed.","Error"),a},d.$watch("wdProjectData.preview",function(a){angular.isString(a)&&a.length>0&&(d.previewRefreshUrl=a+"?refresh="+(new Date).getTime())}),angular.isArray(d.wdProjectData.tags)&&(d.tags=d.wdProjectData.tags.map(function(a){return{text:a}})),d.$watch("tags",function(a){angular.isArray(a)&&(d.wdProjectData.tags=a.map(function(a){return a.text}))},!0)}}}]),angular.module("wallpaperbrowserApp").service("utils",["$rootScope","$translate","modals","toastr",function(a,b,c,d){function e(a){var b=a.toString(16);return 1===b.length?"0"+b:b}function f(a,b,c){return"#"+e(a)+e(b)+e(c)}function g(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null}var h,i,j,k=[],l=[];this.getAvailableTags=function(){return k},this.setAvailableTags=function(a){k=a},this.showError=function(a,b){var c={};angular.isNumber(b)&&(c.timeOut=b,c.extendedTimeOut=b),d.error(a,"Error",c)},this.showWarning=function(a){d.warning(a,"Warning")},this.showSuccess=function(a){d.success(a,"Success")},this.showBuildVersionError=function(a,d){i={callerVersion:a,appVersion:d},h={title:"ui_modal_updaterequired_title",message:"",leftIcon:"images/warning.png",okClass:"btn-primary",okText:"OK",okVisible:!0},c.open("genericConfirm",{data:h},{backdropClass:"modal-backdrop-warning"}),b("ui_modal_updaterequired_body",i).then(function(a){h.message=a})},this.getColorPickerDefaults=function(a){var b={chooseText:"OK",cancelText:"Cancel",showPalette:!0,palette:[["white","silver","black"],["red","orange","yellow"],["lime","green","#254117"],["lightblue","blue","darkblue"],["cyan","purple","Magenta"]],preferredFormat:"hex",showInput:!0,maxSelectionSize:3};return a&&(b.flat=!0),b},this.convertVec3ToHex=function(a){var b=a.split(" ");return 3===b.length?f(Math.round(255*parseFloat(b[0])),Math.round(255*parseFloat(b[1])),Math.round(255*parseFloat(b[2]))):a},this.convertHexToVec3=function(a){var b=g(a);return""+b.r/255+" "+b.g/255+" "+b.b/255},this.onProjectNameChanged=function(b){angular.isString(b)&&b.length>0?a.captionPrefix=b+" - ":a.captionPrefix="Untitled - "},this.damerauLevenshteinDistance=function(a,b){if(!angular.isString(a)||a.length<1)return angular.isString(b)&&b.length>0?b.length:0;if(!angular.isString(b)||b.length<1)return angular.isString(a)&&a.length>0?a.length:0;for(var c=a.length,d=b.length,e=new Array(c+1),f=0;f<e.length;++f)e[f]=new Array(d+1);var g,h,i,j;for(f=0;f<=c;++f)e[f][0]=f;for(f=0;f<=d;++f)e[0][f]=f;for(f=1;f<=c;f++)for(var k=1;k<=d;k++)g=a[f-1]===b[k-1]?0:1,h=e[f-1][k]+1,i=e[f][k-1]+1,j=e[f-1][k-1]+g,e[f][k]=Math.min(h,Math.min(i,j)),f>1&&k>1&&a[f-1]===b[k-2]&&a[f-2]===b[k-1]&&(e[f][k]=Math.min(e[f][k],e[f-2][k-2]+g));return e[c][d]},this.getQualityPreset=function(a){switch(a){case"low":return{msaa:"none",resolution:"full",fps:10,bloom:!1,reflection:!1,preset:"low"};case"medium":return{msaa:"x2",resolution:"full",fps:15,bloom:!0,reflection:!0,preset:"medium"};case"high":return{msaa:"x4",resolution:"full",fps:25,bloom:!0,reflection:!0,preset:"high"}}},this.getFilename=function(a){return a.split(/(\\|\/)/g).pop()},this.isURL=function(a){return a.beginsWith("http://")||a.beginsWith("https://")||a.beginsWith("www.")},this.setLanguage=function(c){"default"===c&&angular.isString(j)&&(c=j),b.use(c),a.languageClass="langCSS"+c},this.setSteamLanguage=function(a){j=a},this.setAvailableLanguages=function(a){l=a,l.sort(function(a,b){return a.label.localeCompare(b.label)}),angular.forEach(l,function(a){"en-us"!==a.value&&b("system_language_"+a.value).then(function(b){a.label+=" ("+b+")"})});var c={label:"Default",icon:"fa fa-steam-square",value:"default"};l.splice(0,0,c),b("system_language_"+j).then(function(a){c.label+=" ("+a+")"})},this.getAvailableLanguages=function(){return l},a.$on("$translateChangeEnd",function(){angular.isObject(i)&&angular.isObject(h)&&b("ui_modal_updaterequired_body",i).then(function(a){h.message=a})})}]),angular.module("wallpaperbrowserApp").controller("EditorImportModelModalCtrl",["$uibModalInstance","$scope","$timeout","toastr","compiler","host","objInfo",function(a,b,c,d,e,f,g){b.close=function(){a.dismiss("cancel")},b.ok=function(){f.callEditor(g.config.copycommand,angular.toJson(b.objInfo)).then(function(a){b.modelDestinationPath=a,b.compileCtrl.start()})};var h={onCompileFailed:function(a){d.error(a,"Error"),b.okButtonLabel="Retry",b.$apply()},onCompileFinished:function(){c(function(){angular.isString(b.modelDestinationPath)&&f.callEditor(g.config.addcommand,b.modelDestinationPath).then(function(b){a.close(b)}).catch(function(){b.compileCtrl.cancel(),b.okButtonLabel="Retry"})},1e3),b.$apply()}};b.$on("$destroy",function(){e.removeListener(h)}),b.compileCtrl={},b.okButtonLabel="OK",e.addListener(h),f.callEditor("getShaderPresets",g.config.shaderpresetkey).then(function(a){b.shaderPresets=a,b.objInfo=g})}]),angular.module("wallpaperbrowserApp").service("compiler",["utils",function(a){window.compilerService=this;var b=[];this.onCompileStarted=function(a){angular.forEach(b,function(b){angular.isFunction(b.onCompileStarted)&&b.onCompileStarted(a)})},this.onCompileFailed=function(a){angular.forEach(b,function(b){angular.isFunction(b.onCompileFailed)&&b.onCompileFailed(a)})},this.onCompileFinished=function(c){angular.isString(c)&&c.length>0&&a.showWarning(c),angular.forEach(b,function(a){angular.isFunction(a.onCompileFinished)&&a.onCompileFinished()})},this.addListener=function(a){b.push(a)},this.removeListener=function(a){b.splice(b.indexOf(a),1)}}]),function(a){a.fn.getStyleObject=function(){var a,b,c=this.get(0),d={};if(window.getComputedStyle){var e=function(a,b){return b.toUpperCase()};a=window.getComputedStyle(c,null);for(var f=0,g=a.length;f<g;f++){b=a[f];var h=b.replace(/\-([a-z])/g,e),i=a.getPropertyValue(b);d[h]=i}return d}if(a=c.currentStyle){for(b in a)d[b]=a[b];return d}return this.css()}}(angular.element),angular.module("wallpaperbrowserApp").service("dragdrop",["$document",function(a){function b(){d.remove(),d=void 0,i.off("mousemove.dragdrop"),i.off("mouseup.dragdrop"),f=void 0,e=void 0}function c(a){for(var b=0;b<j.length;++b){var c=j[b],d=c[0].getBoundingClientRect(),e=a.pageX>d.left&&a.pageX<d.left+d.width&&a.pageY>d.top&&a.pageY<d.top+d.height;e&&g!==c?(g=c,c.dragDropListener.onMouseEnter()):e||g!==c||(g=void 0,c.dragDropListener.onMouseLeave()),e&&g===c&&c.dragDropListener.onMouseMove(a)}}var d,e,f,g,h=this,i=angular.element(a[0].body),j=[];this.finish=function(a){g&&g.dragDropListener&&g.dragDropListener.onMouseLeave(),e&&(a?e.onDragged():e.onCancelled())},this.start=function(a,j,k){d&&(h.finish(),b()),f=j,e=k,g=void 0,d=a.clone();var l=a.getStyleObject();d.css(l),d.css({opacity:.5,position:"absolute","pointer-events":"none"}),i.append(d),i.on("mousemove.dragdrop",function(a){d.css({left:a.pageX,top:a.pageY}),c(a)}),i.on("mouseup.dragdrop",function(a){g&&g.dragDropListener.onElementDropped(a,f)?h.finish(!0):h.finish(),b()})},this.registerContainer=function(a,b){a.dragDropListener=b,j.push(a)},this.unregisterContainer=function(a){j.splice(j.indexOf(a),1)}}]),angular.module("wallpaperbrowserApp").directive("resourcePropertyList",function(){return{restrict:"E",scope:{rplProperties:"="},link:function(a,b){function c(a){var b=angular.element(document.createElement("div"));b.addClass("row");var c=angular.element(document.createElement("div"));c.addClass("col-xs-12");var d=angular.element(document.createElement("h5"));return d.text(a.name),c.append(d),b.append(c),b}function d(a){a=a}function e(a){b.empty(),angular.isArray(a)&&angular.forEach(a,function(a){var e=angular.element(document.createElement("div")),f=c(a);e.append(f);var g=d(a.children);e.append(g),b.append(e)})}a.$watch("rplProperties",function(a,b){a!==b&&a&&e(a)}),e(a.rplProperties)}}}),angular.module("wallpaperbrowserApp").directive("cameraTimeline",["$document","$timeout","$translate","host",function(a,b,c,d){return{restrict:"E",scope:{ctData:"="},link:function(e,f){function g(a,b){var c=a.pageX-E.offset().left,f=E.width();c=Math.max(0,Math.min(f,c)),c=c/f*G.duration*2,c=Math.round(c);var g=c/2;if(angular.isObject(M.keyFrame))if(b){var i=h(M.keyFrame[0].dataId);d.callEditor("moveCameraTransform",e.ctData.id,i.id,g).then(function(){i.timestamp=g,m(g,i.marker),angular.forEach(G.transforms,function(a){a.id===i.id&&(a.timestamp=i.timestamp)})}).catch(function(){m(i.timestamp,i.marker)})}else m(g);else L.cursorPosition=g,m(g)}function h(a){var b;return angular.forEach(O,function(c){c.id===a&&(b=c)}),b}function i(a){var b;return angular.forEach(O,function(c){c.timestamp===a&&(b=c)}),b}function j(){O.length>1?H.removeClass("disabled"):H.addClass("disabled")}function k(){var a=!1;angular.forEach(O,function(b){a=a||b.timestamp===L.cursorPosition}),a?y(1,"remove"):y(1,"add")}function l(a,b){b=b/G.duration*100,a.css({left:""+b+"%"}),k()}function m(a,b){var c=b||M.keyFrame||F;l(c,a)}function n(){L.cursorPosition+.25>G.duration&&(L.cursorPosition=0,m(L.cursorPosition)),F.addClass("play"),L.playInProgress=!0,d.callEditor("startPlayback",e.ctData.id,L.cursorPosition).then(function(){var a=function(){L.cursorPosition+.25>G.duration?(o(),y(0,"play")):(L.cursorPosition+=.5,m(L.cursorPosition),J=b(a,500))};J=b(a,500)})}function o(){F.removeClass("play"),L.playInProgress=!1,d.callEditor("pausePlayback"),angular.isDefined(J)&&b.cancel(J)}function p(){K.off("mousemove.cameraTimeline"),K.off("mouseup.cameraTimeline"),K.off("mouseleave.cameraTimeline")}function q(){var a=angular.element(document.createElement("div"));a.addClass("editorCameraTimeline"),a.on("mousedown",function(a){L.playInProgress||(g(a),M.active=!0)}),p(),K.on("mousemove.cameraTimeline",function(a){M.active&&g(a)});var b=function(a){angular.isObject(M.keyFrame)&&g(a,!0),M.active=!1,M.keyFrame=void 0};return K.on("mouseup.cameraTimeline",b),K.on("mouseleave.cameraTimeline",b),a}function r(){var a=angular.element(document.createElement("span"));return a.addClass("timelineRow"),a}function s(){var a=angular.element(document.createElement("span"));return a.addClass("timestampContainer"),a}function t(a){var b=angular.element(document.createElement("span"));return b.text(Math.round(a)),b.addClass("timestamp"),b}function u(a,b){var c=angular.element(document.createElement("span"));return c.addClass(b?"smallLine":"line"),a&&c.addClass("left"),c}function v(){var a=angular.element(document.createElement("span"));return a.addClass("markerContainer"),a}function w(){var a=angular.element(document.createElement("span"));a.addClass("marker cursorMarker");var b=angular.element(document.createElement("span"));return b.addClass("arrow fa fa-play"),a.append(b),a}function x(){var a=angular.element(document.createElement("a")),b=angular.element(document.createElement("span")),c=angular.element(document.createElement("span"));return a.append(b),a.append(c),a.addClass("btn btn-primary fullWidth"),c.addClass("buttonText"),a}function y(a,b){var c=0===a?H:I,d=angular.element(c.children("span")[0]);d.removeClass();var e=angular.element(c.children("span")[1]);switch(b){case"play":e.text(" Play"),d.addClass("glyphicon glyphicon-play");break;case"pause":e.text(" Pause"),
d.addClass("glyphicon glyphicon-pause");break;case"add":e.text(" Add Key"),d.addClass("glyphicon glyphicon-plus");break;case"remove":e.text(" Remove"),d.addClass("glyphicon glyphicon-remove")}0===a?L.buttonPlayState=b:L.buttonKeyState=b}function z(){"play"===L.buttonPlayState?(y(0,"pause"),n()):(y(0,"play"),o())}function A(a,b){var c=angular.element(document.createElement("span"));return c.addClass("marker keyFrameMarker"),c.on("mousedown",function(a){L.playInProgress&&z(),a.stopPropagation(),M.keyFrame=c,M.active=!0}),O.push({marker:c,id:a,timestamp:b}),c[0].dataId=a,l(c,b),c}function B(){if("add"===L.buttonKeyState)d.callEditor("addCameraTransformToPath",e.ctData.id,L.cursorPosition).then(function(a){var b=A(a.id,a.timestamp);E.prepend(b),G.transforms.push({id:a.id,timestamp:a.timestamp}),j()});else{var a=i(L.cursorPosition);if(!angular.isObject(a))return;d.callEditor("removeCameraTransformFromPath",e.ctData.id,a.id).then(function(){a.marker.remove(),O.splice(O.indexOf(a),1);for(var b=0;b<G.transforms.length;++b)if(G.transforms[b].id===a.id){G.transforms.splice(b,1);break}j(),k()})}}function C(a){f.empty(),O=[],G=angular.copy(a),G.transforms=a.transforms,G.duration=Math.ceil(G.duration);var b=q(a);f.append(b);var c,d,e=r();e.addClass("timeStamps");var g=b.width(),h=g/G.duration,i=h<40;for(c=0;c<G.duration;++c){d=s(c,G.duration);var l;0===c&&(l=t(0),l.addClass("left"),d.append(l)),i&&(c+1)%5!==0&&c!==G.duration-1||(l=t(c+1),d.append(l)),e.append(d)}for(b.append(e),e=r(),c=0;c<G.duration;++c){d=s(c,G.duration);var n=u();d.append(n),i||d.append(u(!1,!0)),0===c&&d.append(u(!0)),e.append(d)}b.append(e),F=w(),E=v(),E.append(F),b.append(E),angular.forEach(a.transforms,function(a){var b=A(a.id,a.timestamp);E.prepend(b)});var o=angular.element(document.createElement("div"));o.addClass("editorCameraTimelineControls"),H=x(),I=x(),y(0,L.buttonPlayState),y(1,L.buttonKeyState),j(),k(),o.append(H),o.append(I),f.append(o),H.click(z),I.click(B),m(L.cursorPosition)}function D(){f.empty();var a=angular.element(document.createElement("div"));a.addClass("editorCameraTimeline errorMessage");var b=angular.element(document.createElement("span"));c("ui_editor_camera_select_path").then(function(a){b.text(a)}),a.append(b),f.append(a)}var E,F,G,H,I,J,K=angular.element(a[0].body),L={cursorPosition:0,buttonPlayState:"play",buttonKeyState:"add",playInProgress:!1},M={active:!1,keyFrame:void 0},N={duration:0},O=[];D();var P;e.$watch("ctData",function(a){if(!angular.isObject(a))return void D();var b=!1,c=a.transforms||[];angular.forEach(a.properties,function(a,d){angular.forEach(a.children,function(a,f){"duration"===a.key&&(b=!0,angular.isFunction(P)&&P(),P=e.$watch("ctData.properties["+d+"].children["+f+"].value",function(a){(!angular.isNumber(a)||a<1)&&(a=1),N={duration:a,transforms:c},C(N)}))})}),b||D()}),e.$on("$destroy",function(){p(),angular.element(window).off("resize.cameraTimelineResize")}),C(N),angular.element(window).on("resize.cameraTimelineResize",function(){C(N)})}}}]),angular.module("wallpaperbrowserApp").directive("disableAnimate",["$animate",function(a){return{restrict:"A",link:function(b,c){a.enabled(c,!1)}}}]),angular.module("wallpaperbrowserApp").controller("EditorProjectSettingsModalCtrl",["$scope","$uibModalInstance","modals","utils","project",function(a,b,c,d,e){a.close=function(){b.close()},a.colorPickerOptions=d.getColorPickerDefaults(),a.project=e,a.$watch("project.data.title",function(a){d.onProjectNameChanged(a)})}]),angular.module("wallpaperbrowserApp").directive("vecColorConverter",["utils",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$parsers.push(a.convertHexToVec3),e.$formatters.push(a.convertVec3ToHex)}}}]),angular.module("wallpaperbrowserApp").directive("ngMouseWheel",function(){return{restrict:"A",scope:{ngMouseWheel:"&"},link:function(a,b){b.bind("DOMMouseScroll mousewheel onmousewheel",function(b){var c=Math.max(-1,Math.min(1,b.originalEvent.wheelDelta));0!==c&&(a.$apply(function(){a.ngMouseWheel({delta:c})}),b.returnValue=!1,b.preventDefault&&b.preventDefault())})}}}),angular.module("wallpaperbrowserApp").controller("EditorTemplateWizardModalCtrl",["$uibModalInstance","$timeout","$scope","host","toastr","compiler","utils","projectData",function(a,b,c,d,e,f,g,h){function i(){j=void 0,k=void 0}var j,k;c.ok=function(){a.close()},c.replaceTexture=function(a){i(),d.callEditor("replaceTexture",angular.toJson(a.parameters||{})).then(function(b){return j=a,k=b,c.currentTemplateOptionName=a.name,d.callEditor("replaceTextureCopyFiles",b,angular.toJson(a))}).then(function(){c.compileCtrl.start()})},c.setOptionConfigured=function(a){a.configured=!0};var l={onCompileStarted:function(){},onCompileFailed:function(a){e.error(a,"Error"),i(),c.$apply()},onCompileFinished:function(){angular.isObject(j)&&(j.configured=!0,j.last=k),i(),b(function(){c.compileCtrl.cancel(),c.compileCtrl.success=!1},1e3)}};c.$on("$destroy",function(){f.removeListener(l)}),f.addListener(l),c.compileCtrl={},c.selectedOption={value:void 0},c.templateoptions=h.templateoptions,c.colorPickerOptions=g.getColorPickerDefaults(!0),c.generalProperties=h.general&&h.general.properties||{},c.selectedOption.value=h.templateoptions[0]}]),angular.module("wallpaperbrowserApp").directive("compilerProgress",["$timeout","modals","compiler",function(a,b,c){return{templateUrl:"views/templates/compilerprogress.html",scope:{compileCtrl:"="},restrict:"E",link:function(d){function e(a,b){if(angular.isUndefined(a))return 0;var c=1/a.total,d=c*a.current;return d+=c*b,d=Math.floor(100*d),Math.min(99,Math.max(1,d))}function f(){angular.isDefined(h)&&(a.cancel(h),h=void 0),i=0}function g(){h=a(function(){i+=.02,i=Math.min(.9,i),d.compileInfo.progress=e(d.compileInfo,i),g()},500)}var h,i,j={onCompileStarted:function(a){d.compileCtrl.success=!1,d.compileInfo=a,d.compileInfo.progress=e(a,0),f(),g(),d.$apply()},onCompileFailed:function(){d.compileCtrl.active=!1,b.setPreventModalClose(!1),f(),d.$apply()},onCompileFinished:function(){b.setPreventModalClose(!1),f(),d.compileInfo.progress=100,d.compileCtrl.active=!1,d.compileCtrl.success=!0,d.$apply()}};d.compileCtrl={start:function(){d.compileInfo={},d.compileCtrl.active=!0,b.setPreventModalClose(!0)},cancel:function(){d.compileCtrl.active=!1,b.setPreventModalClose(!1),f()}},d.$on("$destroy",function(){c.removeListener(j)}),c.addListener(j)}}}]),angular.module("wallpaperbrowserApp").directive("radialProgress",function(){return{restrict:"E",scope:{rpPercent:"=",rpLabel:"="},link:function(a,b){b.addClass("radialProgressContainer");var c={size:110,lineWidth:5,rotate:0},d=document.createElement("canvas"),e=angular.element(document.createElement("span"));e.addClass("percent");var f=angular.element(document.createElement("span"));f.addClass("bytes");var g=d.getContext("2d");d.width=d.height=c.size,b.css({width:c.size+"px",height:c.size+"px"}),e.css({width:c.size+"px"}),f.css({width:c.size+"px"}),b.append(e),b.append(f),b.append(d),g.translate(c.size/2,c.size/2),g.rotate((-.5+c.rotate/180)*Math.PI);var h=(c.size-c.lineWidth)/2,i=function(a,b,c){c=Math.min(Math.max(0,c||1),1),g.beginPath(),g.arc(0,0,h,0,2*Math.PI*c,!1),g.strokeStyle=a,g.lineCap="round",g.lineWidth=b,g.stroke()},j=b.css("color"),k=b.css("border-color");a.$watch("rpPercent",function(a){e.text(Math.floor(a)+"%"),g.save(),g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,c.size,c.size),g.restore(),i(k,c.lineWidth,1),a>0&&i(j,c.lineWidth,a/100)}),a.$watch("rpLabel",function(a){f.text(a)})}}}),angular.module("wallpaperbrowserApp").directive("helpOverlay",["$document","$rootScope","$http","$timeout","help","skin","utils",function(a,b,c,d,e,f,g){return{templateUrl:"views/templates/helpoverlay.html",restrict:"E",link:function(h){function i(a,b){a=a.toLowerCase().replace(/[\?\.\!]/g,""),b=b.toLowerCase().replace(/[\?\.\!]/g,"");var c=a.split(" "),d=b.split(" ");if(a.includes(b)||b.includes(a))return 0;for(var e=9999,f=0;f<c.length;++f)for(var h=0;h<d.length;++h)e=Math.min(e,g.damerauLevenshteinDistance(c[f],d[h]));return e}function j(a){h.helpItemsFull=n[a]||[];var b=e.getMainContext();if("editor"===a&&angular.isObject(b)){var c=b.project&&b.project.data&&b.project.data.type;angular.isString(c)&&c.length>0&&("scene"===c&&(c=b.project.scene.is2d?"scene2d":"scene3d"),h.helpItemsFull=(n[a+".type."+c]||[]).concat(h.helpItemsFull))}h.helpItemsFiltered=[],d(function(){h.helpItemsFiltered=h.helpItemsFull})}function k(){h.helpVisible&&b.$broadcast("previewtoggle",-1),h.helpVisible=!1}function l(){h.helpVisible||b.$broadcast("previewtoggle",1),h.helpVisible=!0,h.filter="",angular.isObject(p)&&(d.cancel(p),p=void 0);var a=e.getHelpRoute();angular.isObject(n)?j(a):(angular.isObject(o)||(o=c.get("json/help.json")),o.success(function(b){o=void 0,n=angular.fromJson(b),j(a)}))}function m(){h.helpVisible?k():l()}var n,o,p;h.onItemSelected=function(a){if(angular.isString(a.id)){var b="steam://url/CommunityFilePage/"+a.id;window.ui.shellexecute(b)}},h.$on("onHelpToggled",function(a,b){(angular.isUndefined(b)||b.showonly&&!h.helpVisible)&&m()}),h.$on("$destroy",function(){a.off("keydown.wpe.help.toggle")}),h.$watch("filter",function(a){angular.isObject(p)&&(d.cancel(p),p=void 0),p=d(function(){if(angular.isString(a)&&a.length>0){var b=[];angular.forEach(h.helpItemsFull,function(c){i(a,c.title)<2&&b.push(c)}),h.helpItemsFiltered=b}else h.helpItemsFiltered=h.helpItemsFull},500)}),h.hideHelp=k,h.helpItems=[],h.tutorialCategories=[{title:"ui_editor_help_tutorial_category_beginner_title",groups:[{isOpen:!0,title:"ui_editor_help_tutorial_group_getting_started",items:[{body:"ui_editor_help_tutorial_item_introduction",id:"768427357"}]},{title:"ui_editor_help_tutorial_group_new_wallpaper",items:[{body:"ui_editor_help_tutorial_item_wallpaper_from_video",id:"768433078",icon:"fa fa-film"},{body:"ui_editor_help_tutorial_item_wallpaper_from_gif",id:"805078680",icon:"glyphicon glyphicon-knight"},{body:"ui_editor_help_tutorial_item_wallpaper_web_based",id:"770801435",icon:"glyphicon glyphicon-globe"},{body:"ui_editor_help_tutorial_item_wallpaper_scene_3d",id:"768436684",icon:"glyphicon glyphicon-knight"},{body:"ui_editor_help_tutorial_item_wallpaper_scene_2d",id:"768442739",icon:"glyphicon glyphicon-knight"}]}]},{title:"ui_editor_help_tutorial_category_advanced_title",groups:[{title:"ui_editor_help_tutorial_group_advanced_general",items:[{body:"ui_editor_help_tutorial_item_project_structure",id:"770802221"}]},{title:"ui_editor_help_tutorial_group_advanced_web",items:[{body:"ui_editor_help_tutorial_item_web_properties",id:"785994149"},{body:"ui_editor_help_tutorial_item_web_audio",id:"786006047"},{body:"ui_editor_help_tutorial_item_web_images",id:"795674740"},{body:"ui_editor_help_tutorial_item_web_fps_limit",id:"786001446"}]},{title:"ui_editor_help_tutorial_group_advanced_scene",items:[{body:"ui_editor_help_tutorial_item_scene_shaders",id:"770803636"}]}]}],k(),a.on("keydown.wpe.help.toggle",function(a){h.helpVisible&&27===a.keyCode?(k(),h.$apply(),a.stopPropagation(),a.preventDefault()):112===a.keyCode&&f.isHelpEnabled()&&(m(),h.$apply(),a.stopPropagation(),a.preventDefault())})}}}]),angular.module("wallpaperbrowserApp").service("help",["$location",function(a){function b(){var b=a.path().toString().replace(/[\\/]/,".");b.length>0&&"."===b[0]&&(b=b.substring(1));for(var c=0;c<d.length;++c){var e=d[c];if(b+="."+e.name,angular.isObject(e.scope)){var f=e.scope[e.pageVar];angular.isString(f)&&f.length>0&&(b+="."+f)}}return b}var c,d=[];this.pushModal=function(a){d.push({name:a})},this.popModal=function(){d.splice(d.length-1,1)},this.getHelpRoute=b,this.getMainContext=function(){return c},this.registerModalPageVar=function(a,b){var c=d[d.length-1];c.scope=a,c.pageVar=b},this.registerMainContext=function(a){c=a}}]),angular.module("wallpaperbrowserApp").controller("WelcomeCtrl",["$scope","$timeout","host","utils",function(a,b,c,d){function e(a){window.welcomeObject.applyGeneral(angular.toJson(a),!0)}var f=!1;window.welcomeCtrl=a,a.applySettings=function(c){a.generalSettings=c.user,b(function(){f=!0,a.qualityPreset="medium",a.generalSettings.hasshownwelcomedialog=!0})},a.setBuildVersion=function(b){a.buildVersion=b},a.advancePage=function(){a.page++,a.page>3&&(a.page=3,window.welcomeExtensionObject.completedDialog(a.showBrowseWallpapers))},a.toggleAutoStartScheduler=function(b){c.callDeferred("welcomeObject","toggleAutoStartHighPriority",b).then(function(c){c&&(a.generalSettings.autostartscheduler=b)})},a.$watch("page",function(b,c){a.lastPage=c}),a.$watch("generalSettings",function(a){f&&e(a)},!0),a.$watch("qualityPreset",function(b){console.log(b),angular.isObject(a.generalSettings)&&angular.isString(b)&&(console.log(b),angular.merge(a.generalSettings,d.getQualityPreset(b)))}),a.$watch("generalSettings.language",function(a,b){angular.isString(a)&&angular.isString(b)&&a!==b&&(d.setLanguage(a),c.callDeferred("settingsObject","languageChanged",a))}),a.$on("onCppInit",function(){console.log("onCppInit"),f=!0,a.availableLanguages=d.getAvailableLanguages()}),a.page=0,a.showBrowseWallpapers=!0,a.generalSettings={}}]),angular.module("wallpaperbrowserApp").controller("OpenFromUrlModalCtrl",["$scope","$uibModalInstance",function(a,b){a.ok=function(){b.close(a.url)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("wallpaperbrowserApp").directive("tooltip",["$timeout","$translate",function(a,b){return{restrict:"A",scope:{tooltip:"@"},link:function(c,d){function e(){if(angular.isDefined(i)&&(a.cancel(i),i=void 0),angular.isDefined(h)){h.removeClass("show");var b=h;!function(){a(function(){b.remove()},100)}(),h=void 0}}function f(e){h=angular.element(document.createElement("span"));var f=function(a){h.text(a)};b(c.tooltip).then(f).catch(f),h.addClass("uiTooltip"),h.css({top:e.pageY+25,left:e.pageX}),d.append(h),a(function(){h.addClass("show")})}function g(b){angular.isDefined(h)||(angular.isDefined(i)&&a.cancel(i),i=a(function(){f(b)},750))}d=angular.element(d);var h,i,j={};c.$on("$destroy",function(){e(),d.off("mousemove.tooltip"),d.off("mouseleave.tooltip"),d.off("mouseenter.tooltip")}),d.on("mousemove.tooltip",function(a){j.left===a.pageX&&j.top===a.pageY||(j.left=a.pageX,j.top=a.pageY,e(),g(a))}),d.on("mouseleave.tooltip",function(){j={},e()}),d.on("mouseenter.tooltip",function(a){j={},e(),g(a)})}}}]),angular.module("wallpaperbrowserApp").directive("modalmove",["$document",function(a){return{restrict:"A",link:function(b,c){var d=angular.element(c).closest(".modal-dialog");c=angular.element(c).find(".modal-header");var e=!1,f={left:0,top:0},g={};b.$on("$destroy",function(){c.off("mousedown.modalmove"),c.off("mouseup.modalmove"),c.off("mousemove.modalmove")}),c.on("mousedown.modalmove",function(a){e||(e=!0,g.left=a.pageX-f.left,g.top=a.pageY-f.top)}),a.on("mouseup.modalmove",function(){e=!1}),a.on("mousemove.modalmove",function(b){if(e){var c={pageX:Math.max(0,Math.min(a.width(),b.pageX)),pageY:Math.max(0,Math.min(a.height(),b.pageY))};f={left:c.pageX-g.left,top:c.pageY-g.top},d.css(f)}}),d.css({position:"relative"})}}}]),angular.module("wallpaperbrowserApp").controller("SettingsChangelogModalCtrl",["$scope","$uibModalInstance",function(a,b){a.close=function(){b.close()}}]),angular.module("wallpaperbrowserApp").controller("GenericConfirmModalCtrl",["$scope","$uibModalInstance","data",function(a,b,c){a.data=c,a.ok=function(){c.okDisabled||b.close(a.url)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("wallpaperbrowserApp").controller("EmptyCtrl",["$scope",function(a){switch(Math.floor(5*Math.random())){case 0:a.btnText="I globbed up!";break;case 1:a.btnText="JJ Flip! What the zip?";break;case 2:a.btnText="Don't just lick stuff!";break;case 3:a.btnText="Dat's what you get!";break;case 4:a.btnText="Floop the pig!"}}]),angular.module("wallpaperbrowserApp").run(["$templateCache",function(a){a.put("views/ci/changelog.html",'<div><div class="changelogHeadline">REV 401 9074039 - Kristjan Skutta, Sat Dec 17 17:52:22 2016 +0100</div> <pre class="changelogBody">- Excluded cache from build.\n</pre><div class="changelogHeadline">REV 400 33dd6dc - Kristjan Skutta, Sat Dec 17 13:37:09 2016 +0100</div> <pre class="changelogBody">- Added service duplication again because Steam fails to execute the uninstall script in order to reliably stop the service (if app installed in unicode dir), leaving users clueless why they cannot update or run anything anymore.\n</pre><div class="changelogHeadline">REV 399 d218984 - Kristjan Skutta, Sat Dec 17 13:04:01 2016 +0100</div> <pre class="changelogBody">- Made advanced settings reset button also reset video loading mode.\n</pre><div class="changelogHeadline">REV 398 d075497 - Kristjan Skutta, Sat Dec 17 12:50:17 2016 +0100</div> <pre class="changelogBody">- Compacted changelog.\n</pre><div class="changelogHeadline">REV 397 c524588 - Kristjan Skutta, Sat Dec 17 12:45:52 2016 +0100</div> <pre class="changelogBody">- Made in-memory stream system more lenient towards incorrect calls because win 7 appears to be doing some incorrect operations and craps out on some vids.\n</pre><div class="changelogHeadline">REV 396 de75c2e - Kristjan Skutta, Sat Dec 17 12:21:03 2016 +0100</div> <pre class="changelogBody">- Updated Chinese translations.\n</pre><div class="changelogHeadline">REV 395 0620df8 - Kristjan Skutta, Sat Dec 17 11:49:30 2016 +0100</div> <pre class="changelogBody">- Updated Chinese translations.\n</pre><div class="changelogHeadline">REV 394 b70ba44 - Kristjan Skutta, Sat Dec 17 11:13:37 2016 +0100</div> <pre class="changelogBody">- Updated Chinese translations.\n</pre><div class="changelogHeadline">REV 393 723ae80 - Kristjan Skutta, Sat Dec 17 09:44:11 2016 +0100</div> <pre class="changelogBody">- Moved language detection into a separate process to HOPEFULLY evade Steam in-game notification... AGAIN.\n</pre><div class="changelogHeadline">REV 392 5597602 - Kristjan Skutta, Sat Dec 17 08:56:29 2016 +0100</div> <pre class="changelogBody">- Only allowed fully installed wallpapers to be written to the cache.\n</pre><div class="changelogHeadline">REV 391 f7c4eeb - Kristjan Skutta, Sat Dec 17 08:47:08 2016 +0100</div> <pre class="changelogBody">- Moved language localization names into web files instead of en-us so they are guaranteed to be available immediately.\n</pre><div class="changelogHeadline">REV 390 bb01cf6 - Kristjan Skutta, Sat Dec 17 03:17:00 2016 +0100</div> <pre class="changelogBody">- Removed steam dependency from launcher again.\n- Moved steam language utility into steam mdmp DLL (for now...) so the DLL path can be set beforehand.\n</pre><div class="changelogHeadline">REV 389 0116440 - Kristjan Skutta, Sat Dec 17 02:15:35 2016 +0100</div> <pre class="changelogBody">- Added localized language names to language drop down.\n- Implemented Steam default language.\n</pre><div class="changelogHeadline">REV 388 6f05b87 - Kristjan Skutta, Fri Dec 16 23:56:11 2016 +0100</div> <pre class="changelogBody">- Added German localization for video read mode.\n</pre><div class="changelogHeadline">REV 387 cc5b7b9 - Kristjan Skutta, Fri Dec 16 23:54:20 2016 +0100</div> <pre class="changelogBody">- Implemented experimental in-memory video loading to remove constant disk read.\n</pre><div class="changelogHeadline">REV 386 306754d - Kristjan Skutta, Fri Dec 16 20:13:59 2016 +0100</div> <pre class="changelogBody">- Changed cache to be updated immediately after retrieval.\n</pre><div class="changelogHeadline">REV 385 7e9a6ff - Kristjan Skutta, Fri Dec 16 20:12:22 2016 +0100</div> <pre class="changelogBody">- Changed steam status to always show wallpaper cache count, even if the cache is empty.\n</pre><div class="changelogHeadline">REV 384 5dca7a5 - Kristjan Skutta, Fri Dec 16 20:09:01 2016 +0100</div> <pre class="changelogBody">- Implemented workshop cache.\n- Added Swedish translations.\n- Added JS controller cmd queue so early commands are delayed until the document is ready.\n- Added steam/workshop state info to browser.\n</pre><div class="changelogHeadline">REV 383 9432739 - Kristjan Skutta, Fri Dec 16 18:15:56 2016 +0100</div> <pre class="changelogBody">- Localized the version update warning message.\n- Removed some localized strings that need to be updated.\n- Added a click callback to the video error message, which will open the FAQ in the browser.\n- Tried to further improve duplicate process stability by adding a process search by executable name on top of the window search.\n</pre><div class="changelogHeadline">REV 382 01ca91f - Kristjan Skutta, Thu Dec 15 17:45:31 2016 +0100</div> <pre class="changelogBody">- Made global instance mutex requirement less severe. If mutex creation fails, an error code is printed.\n- Added error code output to tray icon creation.\n</pre><div class="changelogHeadline">REV 381 df2595c - Kristjan Skutta, Tue Dec 13 23:25:13 2016 +0100</div> <pre class="changelogBody">- Added more community translators.\n- Changed translation errors to use error Msgs so they won\'t be logged.\n</pre><div class="changelogHeadline">REV 380 87cf2d6 - Kristjan Skutta, Tue Dec 13 23:22:35 2016 +0100</div> <pre class="changelogBody">- Updated Chinese translations, added Italian translations.\n</pre><div class="changelogHeadline">REV 379 8c300ec - Kristjan Skutta, Tue Dec 13 20:19:11 2016 +0100</div> <pre class="changelogBody">- Removed win tray GUID and simply used old icon ID now because the new system just causes problems (well on 0.001% of the cases but yeah).\n- Fixed \' handling in wallpaper preview path (?).\n- Added tray advertisement after closing the browser (when opened from the welcome dialog).\n- Replaced a bunch of unicode string literals with ASCII to save space.\n</pre><div class="changelogHeadline">REV 378 0dcce1d - Kristjan Skutta, Sat Dec 10 02:13:48 2016 +0100</div> <pre class="changelogBody">- Updates some translations.\n- Added support for transparent desktop icons.\n- Made window flashing also restore minimized windows.\n</pre><div class="changelogHeadline">REV 377 c305ebe - Kristjan Skutta, Thu Dec 8 12:52:33 2016 +0100</div> <pre class="changelogBody">- Attempted to fix borderless window alt-tab issue by copying Progman HDC to worker HDC on close.\n- Attempted to fix maximized pause being overwritten for fullscreen apps by making the later mutually exclusive with WS_MAXIMIZE.\n</pre><div class="changelogHeadline">REV 376 f57c143 - Kristjan Skutta, Tue Dec 6 20:15:03 2016 +0100</div> <pre class="changelogBody">- Fixed web wallpaper not being re-positioned when the screen layout changed in some way.\n</pre><div class="changelogHeadline">REV 375 284e90f - Kristjan Skutta, Tue Dec 6 18:32:29 2016 +0100</div> <pre class="changelogBody">- Set web wallpaper to per-monitor-DPI aware.\n</pre><div class="changelogHeadline">REV 374 6cfd64f - Kristjan Skutta, Tue Dec 6 17:02:40 2016 +0100</div> <pre class="changelogBody">- Added HTML entity escapes to changelog script.\n</pre><div class="changelogHeadline">REV 373 ded9535 - Kristjan Skutta, Tue Dec 6 16:55:00 2016 +0100</div> <pre class="changelogBody">- Added more German translations.\n</pre><div class="changelogHeadline">REV 372 f4deb14 - Kristjan Skutta, Tue Dec 6 15:25:41 2016 +0100</div> <pre class="changelogBody">- Localized volume, playback rate and audio recording props.\n- Fixed filter menu animation stuttering on some systems.\n</pre><div class="changelogHeadline">REV 371 bfab686 - Kristjan Skutta, Tue Dec 6 15:04:52 2016 +0100</div> <pre class="changelogBody">- Set default video volume to 50%.\n</pre><div class="changelogHeadline">REV 370 29057a2 - Kristjan Skutta, Tue Dec 6 14:46:30 2016 +0100</div> <pre class="changelogBody">- Added link to FAQ to context menu.\n- Added OS &lt;= vista warning box.\n</pre><div class="changelogHeadline">REV 369 dd611c3 - Kristjan Skutta, Sun Dec 4 12:45:48 2016 +0100</div> <pre class="changelogBody">- Increased filter menu width.\n</pre><div class="changelogHeadline">REV 368 8fe8878 - Kristjan Skutta, Sun Dec 4 12:45:28 2016 +0100</div> <pre class="changelogBody">- Added tags: "audio responsive" &amp; "multi-monitor optimized".\n</pre><div class="changelogHeadline">REV 367 420e3bc - Kristjan Skutta, Sat Dec 3 23:50:02 2016 +0100</div> <pre class="changelogBody">- Fixed certain UI windows being pushed off screen with high DPI on 1080p.\n</pre><div class="changelogHeadline">REV 366 6fad08b - Kristjan Skutta, Fri Dec 2 22:34:34 2016 +0100</div> <pre class="changelogBody">- Added Dutch and Brazilian translations and their translators to the about page.\n</pre><div class="changelogHeadline">REV 365 ac928cf - Kristjan Skutta, Fri Dec 2 21:59:15 2016 +0100</div> <pre class="changelogBody">- Made it possible to create sprite sheets from multiple files opened with wildcards.\n</pre><div class="changelogHeadline">REV 364 a32d1f8 - Kristjan Skutta, Fri Dec 2 18:51:28 2016 +0100</div> <pre class="changelogBody">- Added all tutorials to help menu.\n- Added tutorial "show more" button to editor welcome dialog.\n- Implemented GIF frame animation time refresh sync to prevent unnecessary redraw for even better perf.\n- Reduced unnecessary internal JSON memory alloc/free calls when validating config.\n</pre><div class="changelogHeadline">REV 363 1bff5c7 - Kristjan Skutta, Tue Nov 29 19:20:16 2016 +0100</div> <pre class="changelogBody">- Added wallpaper remove button for single monitor.\n- Began reworking help panel to simply link tutorials.\n- Added --ignore-gpu-blacklist switch to web wallpaper.\n- Attempted to fix resizing issues when screen res changes (there probably was a race condition between parent window and windows screen event, so now I\'m just polling).\n</pre><div class="changelogHeadline">REV 362 61070fe - Kristjan Skutta, Mon Nov 28 01:37:18 2016 +0100</div> <pre class="changelogBody">- Began localizing editor.\n- Fixed fallback shader stage layout.\n- Translation updates.\n- Removed service exe duplication, since the uninstall script should stop the service on verify.\n- Added some transition prototype code.\n</pre><div class="changelogHeadline">REV 361 722e19a - Kristjan Skutta, Sat Nov 26 20:28:36 2016 +0100</div> <pre class="changelogBody">- Added Turkish translations.\n</pre><div class="changelogHeadline">REV 360 a86b0c2 - Kristjan Skutta, Fri Nov 25 23:11:14 2016 +0100</div> <pre class="changelogBody">- Added Persian translations.\n- Added Russian translations.\n- Enabled inherit handle in childprocess.\n- Disable CEF sandbox again.\n</pre><div class="changelogHeadline">REV 359 ce07200 - Kristjan Skutta, Fri Nov 25 13:24:23 2016 +0100</div> <pre class="changelogBody">- Fixed SC translation of "remove high prio".\n</pre><div class="changelogHeadline">REV 358 218e77a - Kristjan Skutta, Thu Nov 24 21:55:42 2016 +0100</div> <pre class="changelogBody">- Fixed tiny windows bitmap mem leak in tray menu.\n</pre><div class="changelogHeadline">REV 357 fa3e946 - Kristjan Skutta, Thu Nov 24 19:05:55 2016 +0100</div> <pre class="changelogBody">- Fixed open from file escape issues with apostrophes.\n- Fixed HSL 2 RGB conversion again.\n</pre><div class="changelogHeadline">REV 356 59b2a7c - Kristjan Skutta, Thu Nov 24 18:30:00 2016 +0100</div> <pre class="changelogBody">- Switched aero messages again, ugh.\n</pre><div class="changelogHeadline">REV 355 8465d5d - Kristjan Skutta, Thu Nov 24 18:23:18 2016 +0100</div> <pre class="changelogBody">- Fixed aero disabled message on win 7 being localized incorrectly.\n</pre><div class="changelogHeadline">REV 354 70cccb0 - Kristjan Skutta, Thu Nov 24 18:15:10 2016 +0100</div> <pre class="changelogBody">- Fixed module path being printed for incorrect data type.\n</pre><div class="changelogHeadline">REV 353 cda8cac - Kristjan Skutta, Thu Nov 24 18:14:21 2016 +0100</div> <pre class="changelogBody">- Fixed templates being excluded from build in error.\n</pre><div class="changelogHeadline">REV 352 405c153 - Kristjan Skutta, Thu Nov 24 18:00:24 2016 +0100</div> <pre class="changelogBody">- Fixed translation help link overlapping other controls.\n</pre></div> '),a.put("views/includes/thirdpartynotices.html",'<div class="settingsThirdpartyBox"> <div> <div>Assets</div> <pre>Ricepod model by Eyaura - <a onclick="window.ui.shellexecute(\'http://www.moddb.com/mods/g-string\')">G String Mod</a>\r\nShimmering particles video by <a onclick="window.ui.shellexecute(\'http://www.videezy.com\')">Videezy.com</a></pre> </div> <div> <div>Community Translators</div> <pre>Amin3435\r\nBLVCK\r\nChairman Meow\r\nDimOkGamer\r\nDr. HaZaRd\r\nHish\r\nLyvelion\r\nMiKaiLosA\r\nonikidokuz\r\nREDO\r\nTark\r\n伊织</pre> </div> <div> <div>Boost</div> <pre>Boost Software License - Version 1.0 - August 17th, 2003\r\n\r\nPermission is hereby granted, free of charge, to any person or organization\r\nobtaining a copy of the software and accompanying documentation covered by\r\nthis license (the "Software") to use, reproduce, display, distribute,\r\nexecute, and transmit the Software, and to prepare derivative works of the\r\nSoftware, and to permit third-parties to whom the Software is furnished to\r\ndo so, all subject to the following:\r\n\r\nThe copyright notices in the Software and this entire statement, including\r\nthe above license grant, this restriction and the following disclaimer,\r\nmust be included in all copies of the Software, in whole or in part, and\r\nall derivative works of the Software, unless such copies or derivative\r\nworks are solely in the form of machine-executable object code generated by\r\na source language processor.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT\r\nSHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE\r\nFOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,\r\nARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\nDEALINGS IN THE SOFTWARE.</pre> </div> <div> <div>LodePNG</div> <pre>LodePNG version 20160118\r\nCopyright (c) 2005-2016 Lode Vandevenne\r\nThis software is provided \'as-is\', without any express or implied\r\nwarranty. In no event will the authors be held liable for any damages\r\narising from the use of this software.\r\nPermission is granted to anyone to use this software for any purpose,\r\nincluding commercial applications, and to alter it and redistribute it\r\nfreely, subject to the following restrictions:\r\n    1. The origin of this software must not be misrepresented; you must not\r\n    claim that you wrote the original software. If you use this software\r\n    in a product, an acknowledgment in the product documentation would be\r\n    appreciated but is not required.\r\n    2. Altered source versions must be plainly marked as such, and must not be\r\n    misrepresented as being the original software.\r\n    3. This notice may not be removed or altered from any source\r\n    distribution.</pre> </div> <div> <div>JsonCpp</div> <pre>The JsonCpp library\'s source code, including accompanying documentation, \r\ntests and demonstration applications, are licensed under the following\r\nconditions...\r\n\r\nThe author (Baptiste Lepilleur) explicitly disclaims copyright in all \r\njurisdictions which recognize such a disclaimer. In such jurisdictions, \r\nthis software is released into the Public Domain.\r\n\r\nIn jurisdictions which do not recognize Public Domain property (e.g. Germany as of\r\n2010), this software is Copyright (c) 2007-2010 by Baptiste Lepilleur, and is\r\nreleased under the terms of the MIT License (see below).\r\n\r\nIn jurisdictions which recognize Public Domain property, the user of this \r\nsoftware may choose to accept it either as 1) Public Domain, 2) under the \r\nconditions of the MIT License (see below), or 3) under the terms of dual \r\nPublic Domain/MIT License conditions described here, as they choose.\r\n\r\nThe MIT License is about as close to Public Domain as a license can get, and is\r\ndescribed in clear, concise terms at:\r\n\r\n   http://en.wikipedia.org/wiki/MIT_License\r\n   \r\nThe full text of the MIT License follows:\r\n\r\n========================================================================\r\nCopyright (c) 2007-2010 Baptiste Lepilleur\r\n\r\nPermission is hereby granted, free of charge, to any person\r\nobtaining a copy of this software and associated documentation\r\nfiles (the "Software"), to deal in the Software without\r\nrestriction, including without limitation the rights to use, copy,\r\nmodify, merge, publish, distribute, sublicense, and/or sell copies\r\nof the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\r\nBE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\r\nACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n========================================================================\r\n(END LICENSE TEXT)\r\n\r\nThe MIT license is compatible with both the GPL and commercial\r\nsoftware, affording one all of the rights of Public Domain with the\r\nminor nuisance of being required to keep the above copyright notice\r\nand license text in the source code. Note also that by accepting the\r\nPublic Domain "license" you can re-license your copy using whatever\r\nlicense you like.</pre> </div> <div> <div>GLM</div> <pre>================================================================================\r\nOpenGL Mathematics (GLM)\r\n--------------------------------------------------------------------------------\r\nGLM is licensed under The Happy Bunny License and MIT License\r\n\r\n================================================================================\r\nThe Happy Bunny License (Modified MIT License)\r\n--------------------------------------------------------------------------------\r\nCopyright (c) 2005 - 2014 G-Truc Creation\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the "Software"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nRestrictions:\r\n By making use of the Software for military purposes, you choose to make a\r\n Bunny unhappy.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n================================================================================\r\nThe MIT License\r\n--------------------------------------------------------------------------------\r\nCopyright (c) 2005 - 2014 G-Truc Creation\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the "Software"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.</pre> </div> <div> <div>CEF</div> <pre><strong>Please see bin/cefthirdpartynotices.html for all CEF licenses!</strong></pre> <pre>Copyright (c) 2008-2014 Marshall A. Greenblatt. Portions Copyright (c)\r\n2006-2009 Google Inc. All rights reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without\r\nmodification, are permitted provided that the following conditions are\r\nmet:\r\n\r\n   * Redistributions of source code must retain the above copyright\r\nnotice, this list of conditions and the following disclaimer.\r\n   * Redistributions in binary form must reproduce the above\r\ncopyright notice, this list of conditions and the following disclaimer\r\nin the documentation and/or other materials provided with the\r\ndistribution.\r\n   * Neither the name of Google Inc. nor the name Chromium Embedded\r\nFramework nor the names of its contributors may be used to endorse\r\nor promote products derived from this software without specific prior\r\nwritten permission.\r\n\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</pre> </div> <div> <div>KissFFT</div> <pre>Copyright (c) 2003-2010, Mark Borgerding\r\n\r\nAll rights reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\n    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\r\n    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\n    * Neither the author nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</pre> </div> <div> <div>libsquish</div> <pre>Copyright (c) 2006 Simon Brown                          si@sjbrown.co.uk\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the \r\n"Software"), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to \r\npermit persons to whom the Software is furnished to do so, subject to \r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included\r\nin all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF \r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY \r\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, \r\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE \r\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</pre> </div> <div> <div>libjpeg-turbo</div> <pre>This software is based in part on the work of the Independent JPEG Group.</pre> <pre>Copyright (C)2009-2015 D. R. Commander.  All Rights Reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without\r\nmodification, are permitted provided that the following conditions are met:\r\n\r\n- Redistributions of source code must retain the above copyright notice,\r\n  this list of conditions and the following disclaimer.\r\n- Redistributions in binary form must reproduce the above copyright notice,\r\n  this list of conditions and the following disclaimer in the documentation\r\n  and/or other materials provided with the distribution.\r\n- Neither the name of the libjpeg-turbo Project nor the names of its\r\n  contributors may be used to endorse or promote products derived from this\r\n  software without specific prior written permission.\r\n\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS",\r\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\nARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDERS OR CONTRIBUTORS BE\r\nLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\nCONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\nSUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\nINTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\nARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\nPOSSIBILITY OF SUCH DAMAGE.</pre> </div> <div> <div>Font Awesome</div> <pre>SIL OPEN FONT LICENSE\r\n\r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) are to stimulate worldwide\r\ndevelopment of collaborative font projects, to support the font creation\r\nefforts of academic and linguistic communities, and to provide a free and\r\nopen framework in which fonts may be shared and improved in partnership\r\nwith others.\r\n\r\nThe OFL allows the licensed fonts to be used, studied, modified and\r\nredistributed freely as long as they are not sold by themselves. The\r\nfonts, including any derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any software provided that any reserved\r\nnames are not used by derivative works. The fonts and derivatives,\r\nhowever, cannot be released under any other type of license. The\r\nrequirement for fonts to remain under this license does not apply\r\nto any document created using the fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection of Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative made by adding to, deleting,\r\nor substituting — in part or in whole — any of the components of the\r\nOriginal Version, by changing formats or by porting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION &amp; CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the Font Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission is granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge the contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply to any document created\r\nusing the Font Software.\r\n\r\nTERMINATION\r\nThis license becomes null and void if any of the above conditions are\r\nnot met.\r\n\r\nDISCLAIMER\r\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\r\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\r\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\r\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\r\nOTHER DEALINGS IN THE FONT SOFTWARE.</pre> </div> <div> <div>Assimp</div> <pre>Assimp is released as Open Source under the terms of a 3-clause BSD license.</pre> <pre>Copyright (c) 2006-2015 assimp team\r\nAll rights reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\nRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\r\nRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\nNeither the name of the assimp team nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</pre> </div> <div> <div>FreeImage</div> <pre>This software uses the FreeImage open source image library. See http://freeimage.sourceforge.net for details.\r\nFreeImage is used under the FIPL, version 1.0.\r\nThe full license can be found at bin/freeimage-license.txt.\r\n</pre> </div> </div> '),
a.put("views/modals/editorimportmodelmodal.html",'<div class="modalContainer" modalmove> <div> <div class="modal-header"> <h4 class="modal-title">Import {{objInfo.config.title}} {{objInfo.name}}</h4> </div> <div class="modal-body"> <div class="editorImportModelModalMaterialList"> <div> <div> <strong>Material name</strong> </div> <div> <strong>Shader preset</strong> </div> <div> </div> </div> <div ng-repeat="material in objInfo.materials"> <div> {{material.name}} </div> <div> <droplist dp-options="shaderPresets" dp-selected="material.shaderpreset"></droplist> </div> <div> </div> </div> </div> </div> <div class="modal-footer"> <div> <button class="btn btn-primary" ng-click="ok()">{{okButtonLabel}}</button> <button class="btn btn-default" ng-click="close()">Close</button> </div> </div> </div> <div class="editorImportModelCompileOverlay ng-hide" ng-show="compileCtrl.active || compileCtrl.success"> <div class="modal-header"> <h4 class="modal-title"> Compiling assets for {{objInfo.name}}</h4> </div> <div class="modal-body"> <compiler-progress compile-ctrl="compileCtrl"></compiler-progress> </div> </div> </div> '),a.put("views/modals/editoropenwallpapermodal.html",'<div class="modalContainer editorOpenWallpaperRoot"> <div class="modal-header"> <h4 class="modal-title" translate="ui_editor_open_modal_header"></h4> </div> <div class="modal-body"> <div> <div id="wpimg{{wallpaper.uniqueId}}" class="browseWallpaperImage" ng-repeat="wallpaper in wallpapers track by $index" ng-class="{selected:wallpaper===currentSelection}" ng-click="selectItem(wallpaper)" ng-dblclick="ok()" ng-attr-style="background-image: url(\'{{wallpaper.preview}}\')"> <div class="caption"> <div> <div> {{wallpaper.title}} </div> </div> </div> <div class="selectBorder"></div> </div> </div> </div> <div class="modal-footer"> <div> <a class="btn btn-danger" ng-disabled="!currentSelection" ng-click="deleteProject(currentSelection)"> <span class="fa fa-trash"></span> {{\'ui_editor_open_modal_delete\' | translate}} </a> </div> <div> <a class="btn btn-primary" ng-disabled="!currentSelection" ng-click="ok()" translate="ui_ok"></a> <a class="btn btn-default" ng-click="cancel()" translate="ui_cancel"></a> </div> </div> </div> '),a.put("views/modals/editorprojectsettingsmodal.html",'<div class="modalContainer" modalmove> <div class="modal-header"> <h4 class="modal-title" translate="ui_editor_project_settings_modal_header"></h4> </div> <div class="modal-body editorProjectSettingsProperties"> <div class="row"> <div class="col-xs-12"> <h4 translate="ui_editor_project_settings_modal_header_general"></h4> </div> </div> <div class="row"> <div class="col-xs-11 col-xs-offset-1"> <div class="row"> <div class="col-xs-6"> <label for="inputProjectName" class="control-label" translate="ui_editor_project_settings_modal_title"> <label> </label></label></div> <div class="col-xs-6 text-left"> <input type="text" class="form-control" ng-model="project.data.title" id="inputProjectName" placeholder="Project name"> </div> </div> <div class="row"> <div class="col-xs-6"> <label class="control-label" translate="ui_editor_project_settings_modal_scheme_color"> <label> </label></label></div> <div class="col-xs-6 text-left"> <spectrum-colorpicker options="colorPickerOptions" ng-model="project.data.general.properties.schemecolor.value" vec-color-converter on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> </div> </div> <div class="editorProjectSettingsProperties" ng-if="project.data.type===\'scene\'"> <div class="row"> <div class="col-xs-12"> <h4 translate="ui_editor_project_settings_modal_scene"></h4> </div> </div> <div class="row"> <div class="col-xs-11 col-xs-offset-1"> <div class="row"> <div class="col-xs-6"> <label for="inputProjectName" class="control-label" translate="ui_editor_project_settings_modal_bloom"> <label> </label></label></div> <div class="col-xs-6 text-left"> <checkbox cb-checked="project.scenegeneraldata.bloom" cb-changed=""></checkbox> </div> </div> <div class="row"> <div class="col-xs-6"> <label class="control-label" translate="ui_editor_project_settings_modal_clear_color"> <label> </label></label></div> <div class="col-xs-6 text-left"> <spectrum-colorpicker options="colorPickerOptions" ng-model="project.scenegeneraldata.clearcolor" vec-color-converter on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> <div class="row"> <div class="col-xs-6"> <label class="control-label" translate="ui_editor_project_settings_modal_ambient_color"> <label> </label></label></div> <div class="col-xs-6 text-left"> <spectrum-colorpicker options="colorPickerOptions" ng-model="project.scenegeneraldata.ambientcolor" vec-color-converter on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> <div class="row"> <div class="col-xs-6"> <label class="control-label" translate="ui_editor_project_settings_modal_skylight_color"> <label> </label></label></div> <div class="col-xs-6 text-left"> <spectrum-colorpicker options="colorPickerOptions" ng-model="project.scenegeneraldata.skylightcolor" vec-color-converter on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <div> <a class="btn btn-primary" ng-click="close()" translate="ui_ok"></a> </div> </div> </div> '),a.put("views/modals/editorsteampublishmodal.html",'<div class="modalContainer editorSteamPublishModalRoot" modalmove> <div ng-class="{\'past\': page && page != \'initial\'}"> <div class="modal-header"> <h4 class="modal-title" translate="ui_editor_publish_modal_header"></h4> </div> <div class="modal-body"> <workshop-details wd-project-data="projectData"></workshop-details> </div> <div class="modal-footer"> <div> <button class="btn btn-primary" ng-class="{\'btn-wide\':projectData.workshopid}" ng-disabled="!projectData.preview || !projectData.title" ng-click="startPublish()">{{projectData.workshopid ? \'ui_editor_publish_modal_button_publish_update\':\'ui_editor_publish_modal_button_publish\' | translate}}</button> <a class="btn btn-default" ng-click="close()" translate="ui_close"></a> </div> </div> </div> <div ng-class="{\'future\': page != \'publish\'}" class="future"> <div class="modal-header"> <h4 class="modal-title" translate="ui_editor_publish_modal_header_upload"></h4> </div> <div class="modal-body"> <div ng-if="publishPage==\'progress\'"> <div class="editorSteamPublishStateLabel">{{publishProgressMessage}}</div> <uib-progressbar class="progress-striped active" max="100" value="publishProgressValue"><i>{{publishProgressValue}}%</i></uib-progressbar> </div> <div ng-if="publishPage==\'error\'"> <div class="editorSteamPublishErrorLabel" translate="ui_editor_publish_modal_steam_error"></div> <div>{{publishProgressError}}</div> </div> <div ng-if="publishPage==\'success\'"> <div class="editorSteamPublishStateLabel" ng-attr-style="margin-top: {{needsToAcceptAgreement?80:120}}px" translate="ui_editor_publish_modal_publish_successful"></div> <div ng-if="needsToAcceptAgreement" class="alert alert-danger" translate="ui_editor_publish_modal_publish_prompt_agreement"></div> <a class="btn btn-primary fullWidth" ng-click="openItemInWorkshop()"><span class="fa fa-steam"></span> {{\'ui_editor_publish_modal_button_show_in_workshop\' | translate}}</a> </div> </div> <div class="modal-footer"> <a class="btn btn-primary" ng-if="publishPage==\'error\'" ng-click="startPublish()" translate="ui_retry"></a> <a class="btn btn-default" ng-if="publishPage!=\'success\'" ng-disabled="publishPreventCancel" ng-click="cancelPublish()" translate="ui_cancel"></a> <a class="btn btn-default" ng-if="publishPage==\'success\'" ng-click="close()" translate="ui_close"></a> </div> </div> </div> '),a.put("views/modals/editortemplatewizardmodal.html",'<div class="modalContainer" modalmove> <div class="editorTemplateWizardModalRoot"> <div class="modal-header"> <h4 class="modal-title" translate="ui_editor_template_wizard_header"></h4> </div> <div class="modal-body"> <div class="row"> <div class="col-xs-4"> <h5 translate="ui_editor_template_wizard_select_option"></h5> <div class="btn-group-vertical verticalRadioButtonList"> <button ng-repeat="option in templateoptions" ng-model="selectedOption.value" uib-btn-radio="option" class="btn btn-default">{{option.name}} <span class="glyphicon pull-right" ng-class="{\'glyphicon-warning-sign warnIcon\':!option.configured}"></span></button> <!-- \'glyphicon-ok\':option.configured --> </div> </div> <div class="col-xs-8" ng-if="selectedOption.value"> <h5 translate="ui_editor_template_wizard_details"></h5> <div class="fullWidth" ng-bind-html="selectedOption.value.description"> </div> <div ng-if="selectedOption.value.options.length > 0" class="templateOptionProperties"> <div ng-repeat="option in selectedOption.value.options"> <checkbox ng-if="option.type === \'checkbox\'" cb-checked="option.value" cb-title="option.label"></checkbox> <div ng-if="option.type === \'slider\'"> <span>{{option.label}}</span> <rzslider rz-slider-model="option.value" rz-slider-options="{ceil:option.max, floor:option.min}"></rzslider> <span>{{option.value}}</span> </div> </div> </div> <div ng-switch on="selectedOption.value.type"> <div ng-switch-when="replacetexture"> <div class="fullWidth wordBreakAll" ng-if="selectedOption.value.last"> <br>{{\'ui_editor_template_wizard_last_import\' | translate}} {{selectedOption.value.last}} </div> <div class="editButton"> <a class="btn btn-default fullWidth" ng-click="replaceTexture(selectedOption.value)"><span class="fa fa-picture-o"></span> {{\'ui_editor_template_wizard_import_image\' | translate}}</a> </div> </div> <div ng-switch-when="userpropertycolor"> <br> <spectrum-colorpicker class="sp-flat-nobtn" options="colorPickerOptions" ng-model="generalProperties[selectedOption.value.key].value" vec-color-converter on-show-options="{update:false}" on-change="setOptionConfigured(selectedOption.value)"></spectrum-colorpicker> </div> </div> </div> </div> </div> <div class="modal-footer"> <div> <button class="btn btn-primary" ng-click="ok()" translate="ui_ok"></button> </div> </div> </div> <div class="editorImportModelCompileOverlay ng-hide" ng-show="compileCtrl.active || compileCtrl.success"> <div class="modal-header"> <h4 class="modal-title"> {{\'ui_editor_template_wizard_compiling_assets_for\' | translate}} {{currentTemplateOptionName}}</h4> </div> <div class="modal-body"> <compiler-progress compile-ctrl="compileCtrl"></compiler-progress> </div> </div> </div> '),a.put("views/modals/editorwelcomemodal.html",'<div class="modalContainer" style="height:390px" modalmove> <div class="editorWelcomeModalRoot" ng-class="{past:page}"> <div class="modal-header"> <h4 class="modal-title">{{title | translate}}</h4> </div> <div class="modal-body"> <div class="editorWelcomeContent"> <div> <div> <a class="btn btn-primary editorWelcomeWallpaperBtn" ng-click="openPage(\'scene\', \'glyphicon glyphicon-knight\')"> <span class="glyphicon glyphicon-knight"></span> <div translate="ui_editor_welcome_modal_new_scene_wallpaper"></div> </a> <a class="btn btn-primary editorWelcomeWallpaperBtn" ng-click="openPage(\'video\', \'fa fa-film\')"> <span class="fa fa-film"></span> <div translate="ui_editor_welcome_modal_new_video_wallpaper"></div> </a> <a class="btn btn-primary editorWelcomeWallpaperBtn" ng-click="openPage(\'web\', \'glyphicon glyphicon-globe\')"> <span class="glyphicon glyphicon-globe"></span> <div translate="ui_editor_welcome_modal_new_web_wallpaper"></div> </a> <a class="btn btn-primary editorWelcomeWallpaperBtn" ng-click="openPage(\'application\', \'fa fa-gamepad\')"> <span class="fa fa-gamepad"></span> <div translate="ui_editor_welcome_modal_new_application_wallpaper"></div> </a> </div> <div ng-if="!smallDialog"> </div> <div ng-if="!smallDialog"> <div translate="ui_editor_welcome_modal_edit_recent_wallpaper"></div> <div class="editorWelcomeWallpaperNoRecent" ng-if="!editorScope.editorSettings.recentfiles || editorScope.editorSettings.recentfiles.length == 0" translate="ui_editor_welcome_modal_edit_recent_no_wallpapers"></div> <div ng-if="recentFileDetails.length > 0" style="height: 220px;overflow: hidden"> <a ng-repeat="file in recentFileDetails track by $index" ng-click="openRecent(file)" class="btn btn-primary editorRecentFileBtn"> {{file.title}} <span>{{file.file}}</span> </a> </div> </div> </div> </div> </div> <div class="modal-footer"> <div style="float:left" ng-if="false && !smallDialog"> <checkbox cb-checked="editorScope.editorSettings.showonstartup" cb-title="\'Show on Start up\'"></checkbox> </div> <div style="float:left"> <a class="btn btn-primary" style="width:auto" onclick="window.ui.shellexecute(\'steam://url/CommunityFilePage/768427357\')"> <span class="fa fa-steam bt-lg"></span> {{\'ui_editor_welcome_modal_tutorial\' | translate}} </a> <a translate="ui_editor_welcome_modal_show_more" ng-click="showHelp()"></a> </div> <div> <a class="btn btn-default" ng-click="cancel()" translate="ui_cancel"></a> </div> </div> </div> <div class="editorWelcomeModalRoot future" ng-class="{future:!page, past:page===\'scene3d\'||page===\'scene2d\'}"> <div class="modal-header"> <h4 class="modal-title"><span ng-class="pageIcon"></span> {{newTitle | translate}}</h4> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="form-group" ng-if="page!=\'scene\'"> <label for="inputProjectName" class="col-sm-3 control-label" translate="ui_editor_welcome_modal_project_name"></label> <div class="col-sm-9"> <input type="text" class="form-control" ng-model="project.title" id="inputProjectName" placeholder="New project"> </div> </div> <div class="form-group" ng-if="page==\'scene\'"> <div class="col-xs-6"> <a class="btn btn-primary editorSceneTypeButton" ng-click="openPage(\'scene3d\', \'glyphicon glyphicon-knight\')"> <span class="glyphicon glyphicon-knight"></span> <br>3D </a> </div> <div class="col-xs-6"> <a class="btn btn-primary editorSceneTypeButton" ng-click="openPage(\'scene2d\', \'glyphicon glyphicon-picture\')"> <span class="glyphicon glyphicon-picture"></span> <br>2D </a> </div> <!--                     <label for="inputWallpaperFile" class="col-sm-3 control-label">Video file</label>\r\n                    <div class="col-sm-9">\r\n                        <a class="btn btn-primary btn-lg" ng-click="importFile()"><span class="glyphicon glyphicon-import"></span> Import</a>\r\n                        <span>{{(project.file | filename) || \'No file selected\'}}</span>\r\n                    </div> --> </div> <div class="form-group" ng-if="page==\'video\'"> <label for="inputWallpaperFile" class="col-sm-3 control-label" translate="ui_editor_welcome_modal_video_file"></label> <div class="col-sm-9"> <!-- <input type="text" class="form-control" id="inputWallpaperFile" placeholder="New project"> --> <a class="btn btn-primary btn-lg" ng-click="importFile()"><span class="glyphicon glyphicon-import"></span> {{\'ui_editor_welcome_modal_import\' | translate}}</a> <span>{{(project.file | filename) || (\'ui_editor_welcome_modal_no_file_selected\' | translate)}}</span> </div> </div> <div class="form-group" ng-if="page==\'web\'||page==\'application\'"> <label for="inputWallpaperFile" class="col-sm-3 control-label" translate="ui_editor_welcome_modal_imported_files"></label> <div class="col-sm-9"> <a class="btn btn-primary btn-lg fullWidth" ng-click="importFile()"><span class="glyphicon glyphicon-import"></span> {{\'ui_editor_welcome_modal_import_folder\' | translate}}</a> <!-- <span>{{(project.file | filename) || \'No file selected\'}}</span> --> <div class="importFileList"> <div ng-repeat="entry in project.file"> <span class="glyphicon" ng-class="{\'glyphicon-file\':!entry.isdirectory,\'glyphicon-folder-close\':entry.isdirectory}"></span> {{entry.label}} </div> </div> </div> </div> </form> </div> <div class="modal-footer"> <div style="float:left"> <a class="btn btn-default" ng-click="page=\'\'"><span class="fa fa-arrow-left"></span> {{\'ui_back\' | translate}}</a> </div> <div> <button class="btn btn-primary" ng-if="page!==\'scene\'" ng-disabled="!project.file || !project.title" ng-click="ok()" translate="ui_ok"></button> <a class="btn btn-default" ng-click="cancel()" translate="ui_cancel"></a> </div> </div> </div> <div class="editorWelcomeModalRoot future2" ng-class="{future2:page!==\'scene2d\'&&page!==\'scene3d\'}"> <div class="modal-header"> <h4 class="modal-title"><span ng-class="pageIcon"></span> {{newTitle | translate}}</h4> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="form-group"> <label for="inputProjectName" class="col-sm-3 control-label" translate="ui_editor_welcome_modal_project_name"></label> <div class="col-sm-9"> <input type="text" class="form-control" ng-model="project.title" id="inputProjectName" placeholder="New project"> </div> </div> <div class="form-group"> <label for="inputProjectName" class="col-sm-3 control-label" translate="ui_editor_welcome_modal_template"></label> <div class="col-sm-9"> <div class="btn-group-vertical verticalRadioButtonList" style="width:50%;height:200px"> <button class="btn btn-default" type="button" ng-repeat="template in templates" ng-model="project.template" uib-btn-radio="template.value">{{template.name}}</button> </div> <img class="editorWelcomeModalTemplateImg" ng-src="{{currentPreview || \'images/blueprint.png\'}}"> </div> </div> </form> </div> <div class="modal-footer"> <div style="float:left"> <a class="btn btn-default" ng-click="openPage(\'scene\', \'glyphicon glyphicon-knight\')"><span class="fa fa-arrow-left"></span> {{\'ui_back\' | translate}}</a> </div> <div> <button class="btn btn-primary" ng-disabled="!project.title" ng-click="ok()" translate="ui_ok"></button> <a class="btn btn-default" ng-click="cancel()" translate="ui_cancel"></a> </div> </div> </div> </div> '),a.put("views/modals/genericconfirmmodal.html",'<div class="modalContainer"> <div class="modal-header"> <h4 class="modal-title" translate="{{data.title}}"></h4> </div> <div class="modal-body modalGenericConfirmBody"> <div ng-if="data.leftIcon" class="confirmIcon"> <img ng-src="{{data.leftIcon}}"> </div> <div ng-bind-html="data.message"> </div> </div> <div class="modal-footer"> <div> <a class="btn btn-primary" ng-if="data.okVisible" ng-class="data.okClass" ng-disabled="data.okDisabled" ng-click="ok()">{{data.okText || \'ui_ok\' | translate}}</a> <a class="btn btn-default" ng-if="data.cancelVisible" ng-click="cancel()" translate="ui_cancel"></a> </div> </div> </div> '),a.put("views/modals/openfromurlmodal.html",'<div class="modalContainer"> <div class="modal-header"> <h4 class="modal-title" translate="ui_browse_open_url_header"></h4> </div> <div class="modal-body"> <form ng-submit="ok()" class="form-horizontal"> <div class="form-group" style="margin-bottom:0px"> <label for="inputURL" class="col-sm-2 control-label">URL</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="url" id="inputURL" placeholder="http://" autofocus> </div> </div> </form> </div> <div class="modal-footer"> <div> <a class="btn btn-primary" ng-click="ok()">OK</a> <a class="btn btn-default" ng-click="cancel()">Cancel</a> </div> </div> </div> '),a.put("views/modals/settingschangelogmodal.html",'<div class="modalContainer"> <div class="modal-header"> <h4 class="modal-title">Changelog</h4> </div> <div class="modal-body changelogBody"> <ng-include src="\'views/ci/changelog.html\'"></ng-include> </div> <div class="modal-footer"> <div> <a class="btn btn-primary" ng-click="close()">OK</a> </div> </div> </div> '),a.put("views/templates/checkbox.html",'<div style="display:inline-block"> <div ng-click="toggle()" class="checkBoxOuter" ng-attr-style="opacity: {{cbDisabled ? 0.5 : 1.0}}"> <span ng-if="cbChecked" class="fa fa-check-square checkBox"></span> <span ng-if="!cbChecked" class="fa fa-square-o checkBox big"></span> </div> <div ng-click="toggle()" ng-if="cbTitle" style="display:inline">{{cbTitle | translate}}</div> </div> '),a.put("views/templates/compilerprogress.html",'<div> <h5>Compiling file {{compileInfo.current + 1}} of {{compileInfo.total}}: {{compileInfo.file}} ({{compileInfo.mode}})</h5> <uib-progressbar class="progress-striped active" ng-class="{\'snapProgressBar\':compileInfo.progress < 2}" max="100" value="compileInfo.progress"><i>{{compileInfo.progress}}%</i></uib-progressbar> </div> '),a.put("views/templates/droplist.html",'<div class="btn-group dropDownComboBox" style="width:100%"> <button ng-disabled="dpDisabled || !dpOptions || dpOptions.length == 0" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <div class="ellipsis"><span class="dropIcon" ng-if="selected.icon" ng-class="selected.icon"></span> {{selected ? selected.label : dpEmptyText | translate}} </div> <span ng-if="dpOptions.length > 0" class="caret"></span> </button> <ul class="dropdown-menu"> <li ng-repeat="option in dpOptions track by $index" ng-click="selectItem(option)"> <a class="ellipsis"> <span ng-if="option.icon" ng-class="option.icon"></span> {{option.label | translate}} </a> </li> </ul> </div> '),a.put("views/templates/filemenu.html",'<div class="filemenu"> <div class="btn-group" ng-repeat="item in fmItems track by $index" preview-toggle> <button type="button" class="btn btn-default dropdown-toggle" ng-mouseover="onMouseOver($event)" onclick="this.blur()" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="item.disabled"> {{item.label | translate}} </button> <!--         <ul class="dropdown-menu">\r\n            <li ng-repeat="child in item.children track by $index" ng-click="selectItem(option)" ng-class="{separator:!child.label}"><button class="btn" ng-if="child.label">{{child.label}}</button></li> --> <!-- Nested menu TBD --> <!--             <li>\r\n                <a>ASD</a>\r\n                <ul class="dropdown-menu nested">\r\n                    <a>asdf</a>\r\n                </ul>\r\n            </li> --> <!-- </ul> --> </div> </div> '),a.put("views/templates/helpoverlay.html",'<div class="helpOverlay ng-hide" ng-show="helpVisible"> <div class="helpFade ng-hide" ng-show="helpVisible" ng-click="hideHelp()"> </div> <div class="helpContainer ng-hide" ng-show="helpVisible"> <span class="fa fa-arrow-right helpCloseArrow ng-hide" ng-show="helpVisible" ng-click="hideHelp()"></span> <div class="inner"> <div class="container-fluid"> <div class="col-xs-12"> <div class="row"> <h3 translate="ui_editor_help_header"></h3> </div> <!--                     <div class="row" style="margin-bottom: 10px">\r\n                        <a class="btn btn-primary fullWidth tutorialBtn" onclick="window.ui.shellexecute(\'steam://url/CommunityFilePage/768427357\')">\r\n                            <span class="fa fa-steam bt-lg"></span> {{\'ui_editor_help_button_tutorial_getting_started\' | translate}}\r\n                        </a>\r\n                    </div> --> <div class="row tutorialAccordion"> <uib-accordion close-others="true"> <div ng-repeat="tutorialCategory in tutorialCategories track by $index"> <h4 class="fadedText" translate="{{tutorialCategory.title}}"></h4> <uib-accordion-group ng-repeat="tutorialGroup in tutorialCategory.groups track by $index" heading="{{tutorialGroup.title | translate}}" is-open="tutorialGroup.isOpen"> <a ng-repeat="item in tutorialGroup.items track by $index" class="btn btn-primary fullWidth" ng-click="onItemSelected(item)"> <span ng-if="item.icon" ng-class="item.icon"></span> {{item.body | translate}} </a> </uib-accordion-group> </div> </uib-accordion> </div> <!--                     <div class="row">\r\n                        <div class="form-group fullWidth has-feedback">\r\n                            <input type="text" class="form-control" placeholder="Filter topics" ng-model="filter">\r\n                            <span class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row">\r\n                        <div ng-if="helpItemsFiltered.length === 0" class="fadedText">No results found</div>\r\n                        <div ng-if="helpItemsFiltered.length > 0" class="fadedText">Topics:</div>\r\n                        <uib-accordion close-others="true">\r\n                            <div ng-repeat="item in helpItemsFiltered track by $index">\r\n                                <h4 ng-if="item.type===\'heading\'" class="fadedText" ng-bind="item.title"></h4>\r\n                                <uib-accordion-group ng-if="!item.type" heading="{{item.title}}">\r\n                                    <div ng-bind-html="item.body"></div>\r\n                                </uib-accordion-group>\r\n                            </div>\r\n                        </uib-accordion>\r\n                    </div> --> <div class="row helpFooter"> <span class="fadedText">Looking for additional help?</span> <div> <a onclick="window.ui.shellexecute(\'steam://url/GameHub/431960\\\\discussions\')"> <span class="fa fa-steam bt-lg"></span> Visit Steam Forums </a> </div> <div> <a onclick="window.ui.shellexecute(\'mailto:wallpaperengine@gmail.com?Subject=Application%20Support\')"> <span class="fa fa-envelope"></span> wallpaperengine@gmail.com </a> </div> </div> </div> </div> </div> </div> </div> '),a.put("views/templates/preview.html",'<div ng-attr-style="padding: {{previewPadding}}"> <embed ng-mouseenter="mouseEnter()" ng-mouseleave="mouseLeave()" ng-mousedown="mouseDown($event)" ng-mouseup="mouseUp($event)" ng-mouse-wheel="mouseWheel(delta)" ng-keydown="keyDown($event)" ng-keyup="keyUp($event)" id="previewPlugin" type="application/x-ppapi-window-stream"> </div> '),a.put("views/templates/titlebar.html",'<div class="titlebar"> <!-- <div style="position: absolute;width: 100%;z-index: 9999;"> --> <button class="titlebarBtn closeButton" onclick="window.ui.close()"> <div class="dwm icon-close"> </div> </button> <button ng-if="!isDialog" class="titlebarBtn windowButton" ng-disabled="!maximizeEnabled" onclick="window.ui.maximize()"> <div class="dwm" ng-class="{\'icon-maximize\':!isMaximized,\'icon-window\':isMaximized}"> </div> </button> <button ng-if="!isDialog" class="titlebarBtn windowButton" onclick="window.ui.minimize()"> <div class="dwm icon-minimize"> </div> </button> <div class="titlebarBtn helpTitlebarButton"> <button ng-if="isHelpEnabled" class="titlebarBtn windowButton" ng-click="toggleHelp()"> <div class="fa fa-question"> </div> </button> </div> <!-- </div> --> <div class="title"> <span ng-bind="captionPrefix"></span>{{caption || \'404\' | translate}} </div> </div> '),a.put("views/templates/workshopdetails.html",'<div class="container-fluid"> <div class="row"> <div class="col-xs-6"> <div class="form-group"> <label for="workshopTitle" translate="ui_editor_workshop_options_title"></label><span class="displayInvisible requiredIndicator" translate="ui_editor_workshop_options_required"></span> <input type="text" class="form-control" id="workshopTitle" placeholder="Title" ng-model="wdProjectData.title"> </div> <div class="form-group"> <label for="workshopDescription" translate="ui_editor_workshop_options_description"></label> <textarea style="resize:none;height:115px" class="form-control" id="workshopDescription" ng-model="wdProjectData.description"></textarea> </div> <div class="form-group"> <label for="workshopTags" translate="ui_editor_workshop_options_tags"></label> <tags-input id="workshopTags" on-tag-adding="canAddTag()" replace-spaces-with-dashes="false" add-from-autocomplete-only="true" ng-model="tags"> <auto-complete source="getTags($query)" min-length="1" max-results-to-show="4"></auto-complete> </tags-input> </div> <div class="form-group"> <label translate="ui_editor_workshop_options_scheme_color"></label> <spectrum-colorpicker class="form-control colorpicker-control" options="colorPickerOptions" ng-model="wdProjectData.general.properties.schemecolor.value" vec-color-converter on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label for="workshopVisibility" translate="ui_editor_workshop_options_visibility"></label> <droplist id="workshopVisibility" dp-options="visibilityOptions" dp-selected="wdProjectData.visibility"></droplist> </div> <div class="form-group"> <label for="workshopMonetization" translate="ui_editor_workshop_options_monetization"></label> <checkbox id="workshopMonetization" class="editorWorkshopDetailsMonetizationCheckbox" cb-checked="wdProjectData.monetization" cb-title="wdProjectData.monetization ? \'ui_editor_workshop_options_monetization_hint_on\' : \'ui_editor_workshop_options_monetization_hint_off\'"></checkbox> </div> <div class="form-group"> <label for="workshopPreviewImage" translate="ui_editor_workshop_options_preview_image"></label><span class="displayInvisible requiredIndicator" translate="ui_editor_workshop_options_required"></span> <div class="row"> <div class="col-xs-5"> <div class="text-center editorWorkshopDetailsPreviewImage"> <div ng-if="!previewRefreshUrl" translate="ui_editor_workshop_options_missing"></div> <img ng-if="previewRefreshUrl" ng-src="{{previewRefreshUrl}}"> </div> </div> <div class="col-md-1"></div> <div class="col-md-6 col-xs-7 editorWorkshopDetailsPreviewImageControls"> <button class="btn btn-primary fullWidth" ng-disabled="wdProjectData.type.toLowerCase()==\'application\'" ng-click="takeSnapshot()" translate="ui_editor_workshop_options_preview_take_snapshot"></button> <button class="btn btn-primary fullWidth" ng-click="importSnapshot()" translate="ui_editor_workshop_options_preview_import_file"></button> </div> </div> </div> </div> </div> </div> '),a.put("views/views/browsewallpapers.html",'<div class="clientArea"> <div class="browseWallpaperBrowseContainer"> <div class="browseWallpaperBrowseContainerLeft"> <div class="browseWallpaperBrowseContainerLeftTop"> <div class="browseWallpaperMonitorHeader" ng-if="showMonitorRow"> <div class="browseWallpaperMonitorChangeButton"> <a ng-click="toggleMonitorSelection()"><h1> {{\'ui_browse_monitor\' | translate}} {{selectedMonitor.index + 1}}</h1><span translate="ui_browse_choose_monitor"></span></a> </div> <a class="browseWallpaperMonitorSettingsButton" ng-click="callbackShowSettings()"><span>{{\'ui_caption_settings\' | translate}} <span class="fa fa-cog"></span></span></a> </div> <div class="browseWallpaperSearchContainer"> <div class="form-group has-feedback browseWallpaperSearchContainerSearchField"> <input type="text" class="form-control" placeholder="{{\'ui_browse_search_placeholder\' | translate}}" ng-model="wallpaperSearchText"> <span class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true"></span> </div> <div> <a ng-click="showFilter=!showFilter"><span class="filterLabel" translate="ui_browse_filter_results"></span><span class="glyphicon glyphicon-filter filterIcon"></span></a> </div> <div class="browseWallpaperSearchContainerFill"> </div> <div class="browseWallpaperSearchContainerSort"> <span class="sortLabel" translate="ui_browse_sort_by"></span> <span style="cursor: pointer" class="glyphicon" ng-class="{\'glyphicon-triangle-bottom\': sortDesc, \'glyphicon-triangle-top\': !sortDesc}" ng-click="sortDesc=!sortDesc"></span> <droplist dp-options="sortOptions" dp-selected="selectedSort"></droplist> <span class="settings" ng-if="!showMonitorRow"><a ng-click="callbackShowSettings()"><span class="fa fa-cog"></span></a> </span> </div> </div> <div class="browseWallpaperGridParent"> <div class="browseWallpaperFilter ng-hide" ng-show="showFilter"> <div> <div> <a ng-click="showFilter=false" style="float:right; font-size: 140%; padding-right: 10px"><span class="fa fa-remove"></span></a> </div> <div class="filterHeader" style="padding-top: 5px" translate="ui_browse_filter_type"> </div> <div class="filterItem"> <droplist dp-options="filterOptions" dp-selected="filter.type"></droplist> </div> <div class="filterHeader" translate="ui_browse_filter_source"> </div> <div class="filterItem"> <droplist dp-options="filterSources" dp-selected="filter.source"></droplist> </div> <div class="filterHeader" translate="ui_browse_filter_tags"> </div> <div class="filterItem" ng-repeat="tag in filterAllTags"> <checkbox cb-checked="filter.tags[tag]" cb-title="tag"></checkbox> </div> </div> </div> <div class="browseWallpaperGridView" id="BrowseWallpaperGrid"> <div ng-if="sortedWallpapers.length == 0" class="emptyGrid" translate="ui_browse_grid_no_results"> </div> <div ng-attr-id="wpimg{{::$index}}" class="browseWallpaperImage" ng-repeat="wallpaper in sortedWallpapers track by $index" ng-class="{selected:wallpaper===currentSelection}" ng-click="callbackWallpaperSelected(wallpaper)" ng-dblclick="callbackOk()" ng-attr-style="background-image: url(\'{{wallpaper.preview}}\')"> <radial-progress class="inner" ng-if="wallpaper.status === \'downloading\'" rp-percent="wallpaper.downloadpercent" rp-label="wallpaper.downloadlabel"></radial-progress> <div ng-if="wallpaper.status === \'installed\' || wallpaper.status === \'inventory\'" class="caption"> <div class="icons"> <span ng-if="wallpaper.workshopid" class="fa fa-steam-square"></span> <span ng-if="wallpaper.favorite" class="fa fa-star"></span> </div> <div> <div ng-bind="wallpaper.title"> </div> </div> </div> <div ng-if="wallpaper.status === \'error\'" class="inner error" translate="ui_browse_status_error"> </div> <div class="selectBorder"></div> </div> </div> </div> </div> <div class="browseWallpaperDetailView"> <div ng-if="!currentSelection" class="placeholder" translate="ui_browse_select_prompt"> </div> <div ng-if="currentSelection" class="details"> <img ng-src="{{currentSelection.preview}}" class="previewImage"> <div class="info"> <div> <div translate="ui_browse_details_title"> </div> <div> {{currentSelection.title}} </div> </div> <div ng-if="!currentSelection.local"> <div translate="ui_browse_details_author"> </div> <div> <img ng-if="steamUserInfos[currentSelection.authorsteamid]" ng-src="{{steamUserInfos[currentSelection.authorsteamid].avatar}}" class="avatar"> <img ng-if="!steamUserInfos[currentSelection.authorsteamid]" src="images/noavatar.jpg" class="avatar"> <a ng-if="steamUserInfos[currentSelection.authorsteamid]" ng-click="openSteamUserPage(currentSelection.authorsteamid)">{{steamUserInfos[currentSelection.authorsteamid].name}}</a> <span ng-if="!steamUserInfos[currentSelection.authorsteamid]">{{currentSelection.author || \'&lt; Pending &gt;\'}}</span> </div> </div> <div> <div translate="ui_browse_details_type"> </div> <div> {{currentSelection.type}} <span ng-if="currentSelection.filesizelabel">{{currentSelection.filesizelabel}}</span> </div> </div> <div ng-if="currentSelection.hasrating"> <div translate="ui_browse_details_rating"> </div> <div class="rating" ng-class="{\'disabled\':currentSelection.ratingrounded < 1}"> <span class="glyphicon" ng-class="{\'glyphicon-star-empty\':currentSelection.ratingrounded < 1,\'glyphicon-star\':currentSelection.ratingrounded >= 1}"></span> <span class="glyphicon" ng-class="{\'glyphicon-star-empty\':currentSelection.ratingrounded < 2,\'glyphicon-star\':currentSelection.ratingrounded >= 2}"></span> <span class="glyphicon" ng-class="{\'glyphicon-star-empty\':currentSelection.ratingrounded < 3,\'glyphicon-star\':currentSelection.ratingrounded >= 3}"></span> <span class="glyphicon" ng-class="{\'glyphicon-star-empty\':currentSelection.ratingrounded < 4,\'glyphicon-star\':currentSelection.ratingrounded >= 4}"></span> <span class="glyphicon" ng-class="{\'glyphicon-star-empty\':currentSelection.ratingrounded < 5,\'glyphicon-star\':currentSelection.ratingrounded >= 5}"></span> </div> </div> <div ng-if="currentSelection.workshopid"> <div> </div> <div> <a class="btn" ng-class="currentSelection.uservote===\'up\'?\'btn-primary\':\'btn-default\'" ng-click="setUserVote(currentSelection, \'up\')"><span class="fa fa-thumbs-up"></span> <span class="rateUpLabel" translate="ui_browse_details_rate"></span></a> <a class="btn" ng-class="currentSelection.uservote===\'down\'?\'btn-primary\':\'btn-default\'" ng-click="setUserVote(currentSelection, \'down\')"><span class="fa fa-thumbs-down"></span></a> <a class="btn" ng-class="currentSelection.favorite?\'btn-primary\':\'btn-default\'" ng-click="callbackSetFavorited(currentSelection.workshopid, !currentSelection.favorite)"><span class="fa fa-star"></span></a> </div> </div> </div> <div class="detailButtons" ng-if="currentSelection.workshopid"> <div class="browseWallpaperDetailsWorkshopControls"> <a ng-click="openSteamWorkshopPage(currentSelection.workshopid)" class="btn btn-primary"> <span class="fa fa-steam" aria-hidden="true"></span> {{\'ui_browse_details_btn_workshop\' | translate}} </a> <a ng-if="currentSelection.status !== \'inventory\'" ng-click="callbackUnsubscribe(currentSelection.workshopid, currentSelection.title)" class="btn btn-danger"> <span class="fa fa-remove" aria-hidden="true"></span> {{\'ui_browse_details_btn_unsubscribe\' | translate}} </a> </div> <a style="margin-top: 5px" ng-if="currentSelection.status === \'inventory\'" ng-click="subscribeWorkshopItem(currentSelection.workshopid)" class="btn btn-success"> <span class="fa fa-download" aria-hidden="true"></span> {{\'ui_browse_details_btn_download\' | translate}} </a> </div> <div class="detailButtons" ng-if="currentSelection.localAndExternal"> <a ng-click="callbackRemoveLocalWallpaper(currentSelection.title, currentSelection.file)" class="btn btn-danger"> <span class="fa fa-remove" aria-hidden="true"></span> {{\'ui_browse_details_btn_remove_from_history\' | translate}} </a> </div> <div class="browseWallpaperDetailsPropertiesHeader" ng-if="currentSelection.properties != {}"> <h5 translate="ui_browse_details_properties"></h5> <div></div> <span class="resetButton"> <a class="btn btn-default" ng-click="callbackResetCurrentWallpaperProperties()" translate="ui_browse_details_properties_reset"></a> </span> </div> <div> <div class="settingsWallpaperProperty" ng-repeat="property in currentSelection.properties | orderObjectBy:\'order\' track by $index"> <div translate="{{property.text}}"></div> <div ng-if="property.type===\'color\'"> <spectrum-colorpicker options="colorPickerOptions" ng-model="property.value" on-change="callbackWallpaperPropertyChanged(property.key, property)" on-show-options="{update:false}"></spectrum-colorpicker> </div> <div ng-if="property.type==\'bool\'"> <checkbox cb-checked="property.value" cb-changed="callbackWallpaperPropertyChanged(property.key, property)"></checkbox> </div> <div ng-if="property.type==\'slider\'"> <rzslider rz-slider-model="property.value" rz-slider-options="{ceil:property.max, floor:property.min, onChange:callbackWallpaperPropertyChanged(property.key, property)}"></rzslider> <span class="sliderValue">{{property.value}}</span> </div> <div ng-if="property.type==\'combo\'"> <droplist dp-options="property.options" dp-selected="property.value" dp-change="callbackWallpaperPropertyChanged(property.key, property)"></droplist> </div> <div ng-if="property.type==\'directory\'" class="userImport"> <div class="importPath">{{(property.value || \'ui_browse_details_properties_nothing_imported\') | filename | translate}}</div> <div> <a class="btn btn-default" ng-click="callbackSelectFileForProperty(property, \'directory\')"> <span class="glyphicon glyphicon-import" aria-hidden="true"></span> <span class="userImportBtn" translate="ui_browse_details_properties_select_directory"></span> </a> <span ng-if="property.value"> <a class="btn btn-default" ng-click="callbackOpenDirectory(property.value)"> <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> </a> <a class="btn btn-danger" ng-click="callbackRemoveFileForProperty(property)"> <span class="fa fa-remove" aria-hidden="true"></span> </a> </span> </div> </div> <div ng-if="property.type==\'file\'" class="userImport"> <div class="importPath">{{(property.value || \'ui_browse_details_properties_nothing_imported\') | filename | translate}}</div> <div> <a class="btn btn-default" ng-click="callbackSelectFileForProperty(property, \'file\')"> <span class="glyphicon glyphicon-import" aria-hidden="true"></span> <span class="userImportBtn" translate="ui_browse_details_properties_select_file"></span> </a> <span ng-if="property.value"> <a class="btn btn-default" ng-click="callbackOpenDirectory(property.value)"> <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> </a> <a class="btn btn-danger" ng-click="callbackRemoveFileForProperty(property)"> <span class="fa fa-remove" aria-hidden="true"></span> </a> </span> </div> </div> </div> </div> </div> </div> </div> <div class="browseWallpaperFooter"> <div> <div class="navigationControls controlFlex"> <div> <a class="btn btn-primary" onclick="window.ui.shellexecute(\'steam://url/SteamWorkshopPage/431960\')" style="width: 148px"> <span class="fa fa-wrench" aria-hidden="true"></span> {{\'ui_browse_footer_btn_workshop\' | translate}} </a> <a class="btn btn-primary" onclick="window.ui.shellexecute(\'http://store.steampowered.com/itemstore/431960\')" style="width: 148px"> <span class="fa fa-shopping-cart" aria-hidden="true"></span> {{\'ui_browse_footer_btn_store\' | translate}} </a> </div> <div> <a class="btn btn-default" ng-click="openFromFile()" style="width: 148px"> <span class="glyphicon glyphicon-open" aria-hidden="true"></span> {{\'ui_browse_footer_btn_open_from_file\' | translate}} </a> <a class="btn btn-default" ng-click="openFromUrl()" style="width: 148px"> <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span> {{\'ui_browse_footer_btn_open_from_url\' | translate}} </a> </div> </div> <div class="social"> <a onclick="window.ui.shellexecute(\'http://steamcommunity.com/games/431960\')"><span class="fa fa-steam-square"></span></a> <a onclick="window.ui.shellexecute(\'http://twitter.com/wallpapereng\')"><span class="fa fa-twitter-square"></span></a> <a onclick="window.ui.shellexecute(\'http://www.facebook.com/wallpaperengine/\')"><span class="fa fa-facebook-square"></span></a> </div> <!--                 <div class="left">\r\n                    <div>\r\n                        <a class="btn btn-danger" ng-click="sendCommand(\'mtxnGrantTestItems\')">Grant test items</a>\r\n                        <a class="btn btn-danger" ng-click="sendCommand(\'mtxnConsumeTestItems\', currentSelection.instanceid)">Consume test items</a>\r\n                    </div>\r\n                </div> --> <div class="controlFlex"> <div ng-if="!showMonitorRow"> <a class="btn btn-default fullWidth" ng-click="callbackRemoveWallpaper(selectedMonitor)" translate="ui_browse_monitors_remove_wallpaper"></a> </div> <div class="controls"> <a class="btn btn-primary" ng-click="callbackOk()" translate="ui_ok"></a> <a class="btn btn-default" onclick="window.ui.close()" translate="ui_cancel"></a> </div> </div> </div> </div> </div> <div class="browseMonitorSelectionContainer" ng-hide="!changeMonitorActive"> <div class="backdrop"></div> <div class="monitorModalOuter" onclick="if(this===window.event.target){angular.element(this).scope().toggleMonitorSelection();angular.element(this).scope().$apply();}"> <div class="inner"> <div class="row"> <a class="closeSelection" ng-click="toggleMonitorSelection()"><h3><span class="glyphicon glyphicon-chevron-up"></span></h3></a> </div> <div class="row"> <div class="col-xs-12"> <h1 class="monitorHeader" translate="ui_browse_monitors_choose_monitor"></h1> </div> </div> <div class="row"> <div class="col-xs-3" translate="ui_browse_monitors_layout"> </div> <div class="col-xs-9"> <droplist dp-options="layouts" dp-selected="wallpaperConfig.layout"></droplist> </div> </div> <div class="row" style="margin-top: 10px"> <div class="col-xs-3" translate="ui_browse_monitors_monitors"> </div> </div> <div> <div class="monitorSelectionInnerLayout"> <div class="monitorSelectionBox"> <div id="#MonitorSelectionBox"> <div class="monitorSelectionMonitor" ng-repeat="monitor in monitors track by $index" ng-attr-style="left: {{monitor.x}}px; top: {{monitor.y}}px; width: {{monitor.w}}px; height: {{monitor.h}}px; background-image: {{monitor.wallpaper.preview ? \'url(\\\'\'+monitor.wallpaper.preview+\'\\\')\' : \'\'}};" ng-class="{active:monitor===selectedMonitor, nopreview:!monitor.wallpaper.preview, disabled:monitor.index!==0&&wallpaperConfig.layout===1}" ng-click="callbackSelectMonitor(monitor)" ng-dblclick="selectMonitor(monitor);toggleMonitorSelection()"> <div class="inner"> <div class="cell"> <div class="number"> {{monitor.index + 1}} </div> </div> <div class="title" ng-if="!monitor.wallpaper.preview"> {{monitor.wallpaper.title}} </div> </div> <div class="overlay"> </div> </div> </div> </div> </div> </div> <div class="buttonRow"> <a class="btn btn-primary" ng-click="toggleMonitorSelection()" translate="ui_browse_monitors_change_wallpaper"></a> <a class="btn btn-default" ng-click="callbackRemoveWallpaper(selectedMonitor)" translate="ui_browse_monitors_remove_wallpaper"></a> </div> </div> </div> </div> <input id="BrowseFocusHack" style="position:absolute;width:1px;height:1px;left:-9999px"> <div ng-if="steamWorkshopStatus" class="browseWallpapersWorkshopStatus" ng-class="{\'workshopError\' : steamWorkshopStatus.error, \'invis\':steamWorkshopStatus.hidden}"> <div> <span class="fa fa-steam"></span></div> <div translate="{{steamWorkshopStatus.text}}" translate-values="{{steamWorkshopStatus}}"></div> </div> </div> '),
a.put("views/views/editor.html",'<div ng-class="editorLayoutClass"> <filemenu fm-items="filemenu" fm-data="editorSettings"></filemenu> <div class="clientArea hasFilemenu"> <div class="editorLayoutToolbar"> <a class="editorToolbarButton fa fa-arrows" ng-click="setGizmoMode(\'translate\')" ng-class="{\'active\':gizmoMode===\'translate\'}" tooltip="ui_editor_gizmo_translate"></a> <a class="editorToolbarButton fa fa-rotate-right" ng-click="setGizmoMode(\'rotate\')" ng-class="{\'active\':gizmoMode===\'rotate\'}" tooltip="ui_editor_gizmo_rotate"></a> <a class="editorToolbarButton fa fa-arrows-alt" ng-click="setGizmoMode(\'scale\')" ng-class="{\'active\':gizmoMode===\'scale\'}" tooltip="ui_editor_gizmo_scale"></a> <!--             <div class="editorToolbarSeparator">\r\n                <div></div>\r\n            </div>\r\n            <a class="editorToolbarButton fa" ng-click="setCameraMode(\'fly\')" ng-class="{\'active\':cameraMode===\'fly\'}" tooltip="Camera mode \'fly\'">\r\n                <span class="fa fa-plane"></span>\r\n                <span class="editorToolbarButtonCameraAddon fa fa-camera"></span>\r\n            </a>\r\n            <a class="editorToolbarButton fa" ng-click="setCameraMode(\'pivot\')" ng-class="{\'active\':cameraMode===\'pivot\'}" tooltip="Camera mode \'pivot\'">\r\n                <span class="fa fa-street-view"></span>\r\n                <span class="editorToolbarButtonCameraAddon fa fa-camera"></span>\r\n            </a> --> </div> <div class="editorLayoutTreeView"> <div class="editorContainerContentPane"> <div class="editorTreeViewContainer" ng-if="leftPane===\'treeView\'"> <tree-view class="treeViewRoot" tv-drag-drop-enabled="project.data.type===\'scene\'" tv-data="project.assets" tv-mode="assetTreeViewMode" tv-selected-item="selectedResource" tv-remove-clicked="onResourceRemove(item)" tv-element-dragged="onResourceDragged(from, to)" tv-new-element-added="onResourceAddedToScene(item, index)"></tree-view> </div> <div class="editorTreeViewContainerFixed" ng-if="leftPane===\'cameraPaths\'"> <div class="editorTreeViewContainerCameraPaths"> <tree-view class="treeViewRoot" tv-drag-drop-enabled="true" tv-data="project.camerapaths" tv-mode="assetTreeViewMode" tv-selected-item="selectedResource" tv-remove-clicked="onCameraPathRemove(item)" tv-element-dragged="onCameraPathDragged(from, to)"></tree-view> </div> <div class="editorTreeViewContainerCameraButtons"> <a class="btn btn-primary fullWidth" ng-click="addCameraPath()"><span class="glyphicon glyphicon-plus"></span> {{\'ui_editor_camera_add_path\' | translate}}</a> </div> </div> </div> <div class="editorContainerTabPane"> <div ng-class="{\'inactive\':leftPane!==\'treeView\'}" class="editorTabHeader" ng-click="showTreeView()"> {{editorLayoutClass==\'editorLayoutScene\' ? \'ui_editor_treeview_header_scene\' : \'ui_editor_treeview_header_files\' | translate}} </div> <div ng-class="{\'inactive\':leftPane!==\'cameraPaths\'}" class="editorCameraTab editorTabHeader" ng-click="showCameraPaths()" translate="ui_editor_pane_header_camera"></div> </div> </div> <div class="editorLayoutPreview"> <div class="editorContainerContentPane previewContainer"> <span ng-if="leftPane===\'cameraPaths\'" disable-animate class="editorCameraIcon fa fa-video-camera fa-3x"></span> <preview p-aspect-ratio="editorSettings.previewratio"></preview> <camera-timeline ng-if="leftPane===\'cameraPaths\'" ct-data="selectedResource.item"></camera-timeline> </div> <div class="editorContainerTabPane"> <div class="editorTabHeader" translate="ui_editor_pane_header_preview"></div> </div> </div> <div class="editorLayoutProperties"> <div class="editorContainerContentPane editorPropertyPaneRoot"> <!-- <resource-property-list class="editorPropertyPaneRoot" rpl-properties="selectedResource.item.properties"></resource-property-list> --> <div ng-repeat="property in selectedResource.item.properties track by $index"> <div class="row"> <div class="col-xs-12"> <h5>{{property.name}}</h5> </div> </div> <div ng-repeat="item in property.children" class="row keyValue"> <div class="col-xs-3"> <div class="keyValueLabel">{{item.name}}</div> </div> <div ng-switch on="item.type"> <div ng-switch-when="readonly" class="col-xs-9 typeReadonly"> {{item.value}} </div> <div ng-switch-when="string" class="col-xs-9"> <input type="text" ng-model="item.value" ng-change="sendAssetPropertyChange(selectedResource.item, property.key, item)"> </div> <div ng-switch-when="vec3" class="col-xs-9"> <div class="typeVec3"> <div> <input type="number" onclick="this.select()" ng-model="item.value.x" ng-change="sendAssetPropertyChange(selectedResource.item, property.key, item)"> </div> <div> <input type="number" onclick="this.select()" ng-model="item.value.y" ng-change="sendAssetPropertyChange(selectedResource.item, property.key, item)"> </div> <div> <input type="number" onclick="this.select()" ng-model="item.value.z" ng-change="sendAssetPropertyChange(selectedResource.item, property.key, item)"> </div> </div> </div> <div ng-switch-when="color" class="col-xs-9 typeColor"> <div> <spectrum-colorpicker options="propertyColorPickerSettings" ng-model="item.value" on-change="sendAssetPropertyChange(selectedResource.item, property.key, item)" on-show-options="{update:false}"></spectrum-colorpicker> </div> </div> <div ng-switch-when="slider" class="col-xs-9"> <div class="row"> <div class="col-xs-8"> <rzslider rz-slider-model="item.value" rz-slider-options="{ceil:item.max, floor:item.min, onChange:buildPropertySliderCallback(selectedResource.item, property.key, item, true), onEnd:buildPropertySliderCallback(selectedResource.item, property.key, item)}"></rzslider> </div> <div class="col-xs-1"> {{item.value/100}} </div> </div> </div> <div ng-switch-when="sliderint" class="col-xs-9"> <div class="row"> <div class="col-xs-8"> <rzslider rz-slider-model="item.value" rz-slider-options="{ceil:item.max, floor:item.min, onChange:buildPropertySliderCallback(selectedResource.item, property.key, item, true), onEnd:buildPropertySliderCallback(selectedResource.item, property.key, item)}"></rzslider> </div> <div class="col-xs-1"> {{item.value}} </div> </div> </div> <div ng-switch-when="combo" class="col-xs-9"> <droplist dp-options="item.options" dp-selected="item.value" dp-change="sendAssetPropertyChange(selectedResource.item, property.key, item)"></droplist> </div> </div> </div> </div> </div> <div class="editorContainerTabPane"> <div class="editorTabHeader" translate="ui_editor_pane_header_properties"></div> </div> </div> <div class="editorLayoutAssets"> <div class="editorContainerContentPane editorAssetListingTreeViewContainer"> <tree-view class="treeViewRoot" tv-drag-drop-enabled="true" tv-data="project.availableassets" tv-mode="\'directory\'"></tree-view> </div> <div class="editorContainerTabPane"> <div class="editorTabHeader" translate="ui_editor_pane_header_assets"></div> </div> </div> </div> </div> '),a.put("views/views/empty.html",'<div class="text-center" style="padding-top: 15px;font-size: 170%"> <div>Nothing to see here.</div> <div style="color:#999;font-size:40%">(Either you started the UI directly or there has been an error)</div> <div style="padding-top: 15px"> <a class="btn btn-primary" style="font-size:150%;margin-top:20px" onclick="window.ui.close()">{{btnText}}</a> <!-- ng-click="showimg = true;" --> </div> <!-- <div ng-if="showimg" onclick="window.ui.close()" style="position: absolute; left: 0px; top: 0px; width:100%; height:100%; background: url(\'https://media.giphy.com/media/2ZgsAUCqN0q1a/giphy.gif\'); background-size: cover;background-position: center center;"></div>--> </div> '),a.put("views/views/settings.html",'<div class="clientArea"> <div> <uib-tabset class="tab-animation settingsTabs" active="tabInfo.activeIndex"> <!--         \r\n        Performance tab\r\n --> <uib-tab heading="{{\'ui_settings_performance\' | translate}}" select="refreshSlider()"> <div class="groupBox" style="margin-top: 20px"> <div class="heading" translate="ui_settings_playback"></div> <div class="infoTable settingsPlaybackTable"> <div> <div translate="ui_settings_playback_focused"> </div> <div> <droplist dp-options="playbackOptionsFocus" dp-selected="generalSettings.playbackfocus"></droplist> </div> </div> <div> <div translate="ui_settings_playback_maximized"> </div> <div> <droplist dp-options="playbackOptionsMaximized" dp-selected="generalSettings.playbackmaximized"></droplist> </div> </div> <div> <div translate="ui_settings_playback_fullscreen"> </div> <div> <droplist dp-options="playbackOptionsFullscreen" dp-selected="generalSettings.playbackfullscreen"></droplist> </div> </div> </div> </div> <div class="groupBox" style="margin-top: 20px"> <div class="heading" translate="ui_settings_gfx_quality"></div> <div class="infoTable settingsPlaybackTable"> <div> <div translate="ui_settings_gfx_preset"> </div> <div class="fullWidth alignRight"> <div class="btn-group"> <a class="btn btn-primary settingsQualityButton" ng-click="applyPreset(0)" translate="ui_settings_gfx_preset_low"></a> <a class="btn btn-primary settingsQualityButton" ng-click="applyPreset(1)" translate="ui_settings_gfx_preset_medium"></a> <a class="btn btn-primary settingsQualityButton" ng-click="applyPreset(2)" translate="ui_settings_gfx_preset_high"></a> </div> </div> </div> <div> <div translate="ui_settings_gfx_antialiasing"> </div> <div> <droplist dp-options="antiAliasingOptions" dp-selected="generalSettings.msaa"></droplist> </div> </div> <div> <div translate="ui_settings_gfx_resolution"> </div> <div> <droplist dp-options="resolutionOptions" dp-selected="generalSettings.resolution"></droplist> </div> </div> <div style="position: relative"> <div translate="ui_settings_gfx_fps"> </div> <div class="rzsliderContainer" style="width: 200px"> <rzslider rz-slider-model="generalSettings.fps" rz-slider-options="fpsSlider"></rzslider> </div> <div style="width: 30px; text-align: right"> {{generalSettings.fps}} </div> <div ng-show="generalSettings.fps > 30" class="text-danger settingsFpsWarning" translate="ui_settings_gfx_fps_warning"> </div> </div> <div class="settingsQualityCheckboxRow"> <div translate="ui_settings_gfx_post_processing"> </div> <div> <checkbox cb-checked="generalSettings.bloom"></checkbox> </div> </div> <div class="settingsQualityCheckboxRow"> <div translate="ui_settings_gfx_reflections"> </div> <div> <checkbox cb-checked="generalSettings.reflection"></checkbox> </div> </div> </div> </div> </uib-tab> <!--         \r\n        General tab\r\n --> <uib-tab heading="{{\'ui_settings_general\' | translate}}" select="refreshSlider()"> <div style="margin-top: 20px; padding-top: 5px; overflow-y: auto; overflow-x: hidden; height: 435px"> <div class="groupBox"> <div class="heading">{{\'ui_settings_miscellaneous\' | translate}}</div> <div class="infoTable settingsPlaybackTable"> <div ng-class="{\'settingsQualityCheckboxRow\':!generalSettings.autostartscheduler}"> <div translate="ui_settings_start_with_windows"> </div> <div> <checkbox cb-checked="generalSettings.autostart" class="autostart" cb-title="\'\'" ng-show="!generalSettings.autostartscheduler"></checkbox> <a class="btn btn-primary btn-sm autoStartButton" ng-class="{\'btn-success btn-autostart-set\':generalSettings.autostartscheduler}" ng-click="generalSettings.autostart&&toggleAutoStartScheduler(!generalSettings.autostartscheduler)" ng-disabled="!generalSettings.autostart"><img src="images/uac_small.png"> {{generalSettings.autostartscheduler ? \'ui_settings_remove_service\' : \'ui_settings_register_service\' | translate}}</a> </div> </div> <div class="settingsQualityCheckboxRow"> <div translate="ui_settings_adjust_windows_color"> </div> <div> <checkbox cb-checked="generalSettings.adjustdwmcolor"></checkbox> </div> </div> <div class="settingsGeneralSlider"> <div translate="ui_settings_icon_opacity"> </div> <div class="rzsliderContainer"> <rzslider rz-slider-model="generalSettings.iconopacity" rz-slider-options="iconOpacitySlider"></rzslider> </div> <div class="percentage"> {{generalSettings.iconopacity}}% </div> </div> <div style="position: relative"> <div translate="ui_settings_ui_language"> </div> <div> <droplist class="settingsLanguageDropList" dp-options="availableLanguages" dp-selected="generalSettings.language"></droplist> </div> <a onclick="window.ui.shellexecute(\'steam://url/GameHub/431960\\\\discussions\\\\7\\\\215439774876424597\')" style="position: absolute;color:#A03; font-size:90%; bottom: -5px">Help translate Wallpaper Engine!</a> </div> <div ng-if="generalSettings.konami"> <div translate="ui_settings_ui_skin"> </div> <div> <droplist dp-options="uiSkins" dp-selected="generalSettings.uiskin"></droplist> </div> </div> <div> <div translate="ui_settings_audio_input_device"> </div> <div> <droplist dp-empty-text="ui_settings_no_devices" dp-options="runtime.audiodevices" dp-selected="generalSettings.audioinputdevice"></droplist> </div> </div> <div class="settingsGeneralSlider"> <span class="fa fa-microphone"></span> <div class="audioInputText" translate="ui_settings_recording_volume"> </div> <div class="rzsliderContainer"> <rzslider rz-slider-model="generalSettings.audioinputvolume" rz-slider-options="audioSlider"></rzslider> </div> <div class="percentage"> {{generalSettings.audioinputvolume}}% </div> </div> </div> </div> <div class="groupBox" style="margin-top: 20px"> <div class="heading" translate="ui_settings_advanced"></div> <div class="infoTable settingsPlaybackTable"> <!--                         <div class="settingsQualityCheckboxRow">\r\n                            <div>\r\n                                Enable advanced options:\r\n                            </div>\r\n                            <div>\r\n                                <checkbox cb-checked="generalSettings.enableadvancedoptions"></checkbox>\r\n                            </div>\r\n                        </div> --> <div> <div class="fullWidth"> <a class="btn btn-primary fullWidth" ng-click="resetAdvancedOptions()" translate="ui_settings_reset_advanced"></a> </div> </div> <div> <div translate="ui_settings_advanced_graphics_api"> </div> <div> <droplist class="dropup" dp-options="graphicsApiOptions" dp-selected="generalSettings.graphicsapi"></droplist> </div> </div> <div> <div translate="ui_settings_advanced_video_read"> </div> <div> <droplist class="dropup" dp-options="videoReadOptions" dp-selected="generalSettings.videoreadmode"></droplist> </div> </div> <div> <div translate="ui_settings_advanced_video_loop"> </div> <div> <droplist class="dropup" dp-options="videoLoopOptions" dp-selected="generalSettings.videoloopmode"></droplist> </div> </div> <div> <div translate="ui_settings_advanced_log_level"> </div> <div> <droplist class="dropup" dp-options="logLevelOptions" dp-selected="generalSettings.loglevel"></droplist> </div> </div> </div> <!--                     <div class="infoTable settingsPlaybackTable">\r\n                        <div>\r\n                            <div style="width: 100%">\r\n                                <a ng-disabled="!generalSettings.enableadvancedoptions || true" style="width: 100%" class="btn btn-primary">Show console (disabled)</a>\r\n                            </div>\r\n                        </div>\r\n                    </div> --> </div> </div> </uib-tab> <!--         \r\n        About tab\r\n --> <uib-tab heading="{{\'ui_settings_about\' | translate}}"> <div class="settingsAboutCopyright"> <div>Wallpaper Engine &copy 2016 Kristjan Skutta. {{\'ui_settings_copyright\' | translate}}</div> <div>Build {{buildVersion}} <a ng-click="showChangelog()"> Changelog</a> </div> <div> <a onclick="window.ui.shellexecute(\'steam://url/GameHub/431960\')"> <span class="fa fa-steam bt-lg"></span> Community Hub </a> </div> <div> <a onclick="window.ui.shellexecute(\'mailto:wallpaperengine@gmail.com?Subject=Application%20Support\')"> <span class="fa fa-envelope"></span> wallpaperengine@gmail.com </a> </div> </div> <div class="groupBox" style="margin-top: 20px; height: 290px"> <div class="heading" translate="ui_settings_thirdparty"></div> <ng-include src="\'views/includes/thirdpartynotices.html\'"></ng-include> </div> </uib-tab> </uib-tabset> </div> <div class="footer"> <div style="padding: 0px"> <div class="row"> <div class="right"> <a class="btn btn-primary" ng-click="callbackOk()" translate="ui_ok"></a> <a class="btn btn-default" ng-click="callbackCancel()" translate="ui_cancel"></a> </div> </div> </div> </div> </div> '),a.put("views/views/welcome.html",'<div class="welcomeDialogRoot"> <div class="welcomeTitle"> <h3 translate="ui_welcome_header"></h3> <!-- <img src="images/wp_logo.png"> --> </div> <div class="welcomeBody container-fluid"> <div class="page" ng-class="{\'past\': page > 0}" ng-show="page===0||lastPage===0"> <div class="col-xs-12" translate="ui_welcome_intro"></div> <div> <div class="col-xs-5" translate="ui_welcome_preferred_language"></div> <div class="col-xs-7"> <droplist class="welcomeLanguageDropList" dp-options="availableLanguages" dp-selected="generalSettings.language"></droplist> <a onclick="window.ui.shellexecute(\'steam://url/GameHub/431960\\\\discussions\\\\7\\\\215439774876424597\')" style="position: absolute;color:#A03; font-size:90%; bottom: -20px; right: 15px">Help translate Wallpaper Engine!</a> </div> </div> <div class="col-xs-12 text-center" style="pointer-events: none"> <div class="wpAnim"> <img class="offset" src="images/wp_logo_blue_outer_rect.png"> <img class="spin" src="images/wp_logo_blue_inner_rect.png"> </div> </div> </div> <div class="page welcomeDialogOptions" ng-class="{\'past\': page > 1, \'future\': page < 1}" ng-show="page===1||lastPage===1"> <div class="col-xs-12"> <span class="wdLabel" translate="ui_welcome_quality_body"></span> <br> <br> <div class="row wdRow"> <div class="col-xs-5" translate="ui_welcome_quality_column_header"></div> <div class="col-xs-7"> <div class="btn-group"> <a class="btn btn-primary wdQualityButton" uib-btn-radio="\'low\'" ng-model="qualityPreset"><span translate="ui_settings_gfx_preset_low"></span></a> <a class="btn btn-primary wdQualityButton" uib-btn-radio="\'medium\'" ng-model="qualityPreset"><span translate="ui_settings_gfx_preset_medium"></span></a> <a class="btn btn-primary wdQualityButton" uib-btn-radio="\'high\'" ng-model="qualityPreset"><span translate="ui_settings_gfx_preset_high"></span></a> </div> </div> </div> <br> <div class="row"> <div class="col-xs-5" translate="ui_welcome_quality_description_header"> </div> <div class="col-xs-7 wdLabel"> <div class="row"> <div class="col-xs-6" translate="ui_welcome_quality_fps_limit"></div> <div class="col-xs-6">{{generalSettings.fps}}</div> </div> <div class="row"> <div class="col-xs-6" translate="ui_welcome_quality_anti_aliasing"></div> <div class="col-xs-6">MSAA {{generalSettings.msaa}}</div> </div> <div class="row"> <div class="col-xs-6" translate="ui_welcome_quality_bloom"></div> <div class="col-xs-6">{{generalSettings.bloom ? \'yes\' : \'no\'}}</div> </div> <div class="row"> <div class="col-xs-6" translate="ui_welcome_quality_reflections"></div> <div class="col-xs-6">{{generalSettings.reflection ? \'yes\' : \'no\'}}</div> </div> </div> </div> </div> </div> <div class="page welcomeDialogOptions" ng-class="{\'past\': page > 2, \'future\': page < 2}" ng-show="page===2||lastPage===2"> <div class="col-xs-12"> <span class="wdLabel" translate="ui_welcome_windows_color_description"></span> <br> <div class="row wdRow"> <div class="col-xs-5" translate="ui_welcome_windows_color_header"></div> <div class="col-xs-7"> <checkbox cb-checked="generalSettings.adjustdwmcolor" cb-title="\'\'" style="position:relative;left:30px"></checkbox> </div> </div> <br> <br> <span class="wdLabel" translate="ui_welcome_autostart_description"></span> <br> <div class="row wdRow"> <div class="col-xs-5" translate="ui_welcome_autostart_label"></div> <div class="col-xs-7"> <div class="wdAutoStart"> <checkbox cb-checked="generalSettings.autostart" cb-title="\'\'" cb-disabled="generalSettings.autostartscheduler" ng-show="!generalSettings.autostartscheduler"></checkbox> <a class="btn btn-primary" ng-class="{\'btn-success\':generalSettings.autostartscheduler}" ng-click="generalSettings.autostart&&toggleAutoStartScheduler(!generalSettings.autostartscheduler)" ng-disabled="!generalSettings.autostart"><img src="images/uac_small.png"> {{generalSettings.autostartscheduler ? \'ui_settings_remove_service\' : \'ui_settings_register_service\' | translate}}</a> </div> </div> </div> </div> </div> <div class="page welcomeDialogOptions" ng-class="{\'past\': page > 3, \'future\': page < 3}" ng-show="page===3||lastPage===3"> <div class="col-xs-12"> <span translate="ui_welcome_finish_body"></span> <div class="text-center"> <img src="images/tray_example.png"> </div> </div> </div> </div> <div class="welcomeFooter container-fluid"> <div class="row"> <div class="col-xs-12 text-center"> <a class="navigationDot" ng-class="{\'active\':page===0}" ng-click="page=0"></a> <a class="navigationDot" ng-class="{\'active\':page===1}" ng-click="page=1"></a> <a class="navigationDot" ng-class="{\'active\':page===2}" ng-click="page=2"></a> <a class="navigationDot" ng-class="{\'active\':page===3}" ng-click="page=3"></a> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="pull-left" style="padding-top: 4px" ng-show="page===3"> <checkbox cb-checked="showBrowseWallpapers" cb-title="\'ui_welcome_browse_wallpapers_now\'"></checkbox> </div> </div> <div class="col-xs-6"> <a class="btn btn-primary buttonParent btn-lg pull-right" ng-click="advancePage()"> <div class="buttonFade" ng-show="page===0"><span translate="ui_welcome_button_first_page"></span> <span class="glyphicon pull-right glyphicon-chevron-right"></span></div> <div class="buttonFade" ng-show="page!==0&&page!==3"><span translate="ui_welcome_button_next_page"></span> <span class="glyphicon pull-right glyphicon-chevron-right"></span></div> <div class="buttonFade" ng-show="page===3"> <span translate="ui_welcome_button_last_page"></span> <span class="fa pull-right fa-check" style="position:relative;top:2px"></span></div> </a> </div> </div> </div> </div> ')}]);